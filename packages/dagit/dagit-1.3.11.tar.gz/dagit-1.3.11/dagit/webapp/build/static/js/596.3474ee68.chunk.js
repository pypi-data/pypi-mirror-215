(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[596],{10893:function(n,e,r){"use strict";r.d(e,{CY:function(){return y},N9:function(){return I}});var t,o=r(71171),i=r(96234),s=r(90239),a=r(31623),l=r(78193),p=r(50032),u=r(62638),d=r(74894),c=r(14228),h=r(85514),x=r(67099),f=r(84674),v=r(13422),m=r(92761),g=r(55500),j=r(25620),C=r(44907),S=r(48341),P=r(35936),y=function(){(0,d.Px)();var n=(0,p.UO)(),e=(0,S.p3)(n[0]),r=e.pipelineName,t=e.snapshotId,o=(0,p.k6)();return(0,x.j)("Snapshot: ".concat(r).concat(t?"@".concat(t.slice(0,8)):"")),(0,P.jsx)(I,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,S.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,h.p)(e))}})},I=function(n){var e,r=n.explorerPath,t=n.repoAddress,o=n.onChangeExplorerPath,a=n.onNavigateToSourceAssetNode,p=n.isGraph,u=void 0!==p&&p,d=l.useState({explodeComposites:null!==(e=r.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),h=(0,i.Z)(d,2),x=h[0],f=h[1],S=r.opNames.slice(0,r.opNames.length-1),y=(0,m._T)(t||null,r.pipelineName),I=(0,s.a)(b,{variables:{snapshotPipelineSelector:r.snapshotId?void 0:y,snapshotId:r.snapshotId?r.snapshotId:void 0,rootHandleID:S.join("."),requestScopeHandleID:x.explodeComposites?void 0:S.join(".")}});return(0,P.jsx)(v.g,{queryResult:I,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,P.jsx)(C.Q,{isGraph:u,result:e,repoAddress:t});var i=e.solidHandle,s=x.explodeComposites?(0,g.i)(e.solidHandles):e.solidHandles,l=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return x.preferAssetRendering&&l?(0,P.jsx)(c.OK,{options:x,setOptions:f,fetchOptions:{pipelineSelector:y},explorerPath:r,onChangeExplorerPath:o,onNavigateToSourceAssetNode:a}):(0,P.jsx)(j.m0,{options:x,setOptions:f,explorerPath:r,onChangeExplorerPath:o,container:e,repoAddress:t,handles:s,parentHandle:i||void 0,isGraph:u,getInvocations:function(n){return s.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},b=(0,a.Ps)(t||(t=(0,o.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),f.it,j.Sm,j.Q,j.bg,u.B)},76408:function(n,e,r){"use strict";r.d(e,{G:function(){return Z}});var t,o=r(71171),i=r(33028),s=r(68079),a=r(96234),l=r(31623),p=r(29845),u=r(3586),d=r(47515),c=r(67445),h=r(95714),x=r(86562),f=r(78193),v=r(50032),m=r(62638),g=r(39707),j=r(74894),C=r(8709),S=r(68506),P=r(89622),y=r(95904),I=r(4774),b=r(13422),N=r(42468),R=r(92761),E=r(9610),k=r(48341),_=r(53683),O=r(35936),w=["status","tag"],Z=function(n){(0,j.Px)();var e=(0,v.UO)().pipelinePath,r=n.repoAddress,t=void 0===r?null:r,o=(0,k.p3)(e),l=o.pipelineName,m=o.snapshotId,Z=(0,R.Ux)(t),$=(0,R.E8)(Z,l);(0,_.b)(o,$);var F=(0,y.oD)(w),A=(0,a.Z)(F,2),D=A[0],q=A[1],T=f.useMemo((function(){return[$?{token:"job",value:l}:{token:"pipeline",value:l},m?{token:"snapshotId",value:m}:null].filter(Boolean)}),[$,l,m]),z=[].concat((0,s.Z)(D),(0,s.Z)(T));if(t){var G={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,E.Wg)(t))};z.push(G)}var Y=(0,I.l)({query:H,pageSize:25,variables:{filter:(0,i.Z)((0,i.Z)({},(0,y.VH)(z)),{},{pipelineName:l,snapshotId:m})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.id},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),Q=Y.queryResult,V=Y.paginationProps,J=f.useCallback((function(n){var e=(0,p.HY)(n);D.some((function(n){return(0,p.HY)(n)===e}))||q([].concat((0,s.Z)(D),[n]))}),[D,q]),U=(0,g.C4)(Q,g.dT);return(0,O.jsx)(P.Lw.Provider,{value:{refetch:Q.refetch},children:(0,O.jsx)(u.T,{children:(0,O.jsx)(b.g,{queryResult:Q,allowStaleData:!0,children:function(n){var e=n.pipelineRunsOrError;if("Runs"!==e.__typename)return(0,O.jsx)(d.x,{padding:{vertical:64},children:(0,O.jsx)(c.t,{icon:"error",title:"Query Error",description:e.message})});var r=e.results.slice(0,25),t=V.hasNextCursor,o=V.hasPrevCursor;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(d.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,O.jsx)(d.x,{flex:{direction:"row",gap:8},children:T.map((function(n){var e=n.token,r=n.value;return(0,O.jsx)(h.V,{children:"".concat(e,":").concat(r)},e)}))}),(0,O.jsx)(g.xi,{refreshState:U})]}),(0,O.jsx)(N.Y,{$top:0,children:(0,O.jsx)(C.A,{runs:r,onAddTag:J,actionBarComponents:(0,O.jsx)(y.nr,{enabledFilters:w,tokens:D,onChange:q,loading:Q.loading})})}),t||o?(0,O.jsx)("div",{style:{marginTop:"20px"},children:(0,O.jsx)(x.pI,(0,i.Z)({},V))}):null]})}})})})},H=(0,l.Ps)(t||(t=(0,o.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),C.Z,m.B)},4774:function(n,e,r){"use strict";r.d(e,{l:function(){return p}});var t=r(68079),o=r(33028),i=r(96234),s=r(90239),a=r(78193),l=r(46860);function p(n){var e=a.useState((function(){return[]})),r=(0,i.Z)(e,2),p=r[0],u=r[1],d=(0,l.q)({queryKey:"cursor"}),c=(0,i.Z)(d,2),h=c[0],x=c[1],f=(0,o.Z)((0,o.Z)({},n.variables),{},{cursor:h,limit:n.pageSize+1}),v=(0,s.a)(n.query,{skip:n.skip,variables:f,notifyOnNetworkStatusChange:!0}),m=n.getResultArray(v.data),g={hasPrevCursor:!!h,hasNextCursor:m.length===n.pageSize+1,popCursor:function(){var n=(0,t.Z)(p);x(n.pop()),u(n)},advanceCursor:function(){h&&u((function(n){return[].concat((0,t.Z)(n),[h])}));var e=v.data&&n.nextCursorForResult(v.data);e&&x(e)},reset:function(){u([]),x(void 0)}};return{queryResult:v,paginationProps:g}}},33069:function(n,e,r){"use strict";r.r(e),r.d(e,{SnapshotRoot:function(){return I},default:function(){return b}});r(78193);var t,o=r(50032),i=r(10893),s=r(48341),a=r(76408),l=r(33028),p=r(71171),u=r(31623),d=r(90239),c=r(95714),h=r(20356),x=r(83473),f=r(57103),v=r(16185),m=r(97412),g=r(4248),j=r(92761),C=r(63167),S=r(35936),P=(0,u.Ps)(t||(t=(0,p.Z)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]))),y=function(n){var e,r=n.activeTab,t=void 0===r?"":r,o=n.explorerPath,i=o.pipelineName,a=o.snapshotId,p=void 0===a?"":a,u=(0,s.gY)((0,l.Z)((0,l.Z)({},o),{},{opNames:[]})),y=(0,j.Nc)(i),I=!(null===y||void 0===y||!y.isJob),b=null===y||void 0===y?void 0:y.pipelineSnapshotId,N=(0,d.a)(P,{variables:{snapshotId:p}}),R=N.data,E=N.loading,k=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(u)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(u,"runs")}];return(0,S.jsx)(h.m,{title:(0,S.jsx)(x.X6,{style:{fontFamily:f.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.V,{icon:"schema",children:["Snapshot of"," ",(0,S.jsx)(m.rU,{to:(0,C.r4)(o.pipelineName,I),children:o.pipelineName})]}),function(){var n;return E?(0,S.jsx)(c.V,{intent:"none",minimal:!0,children:"..."}):!b||b!==p&&"PipelineSnapshot"===(null===R||void 0===R?void 0:R.pipelineSnapshotOrError.__typename)&&(null===R||void 0===R||null===(n=R.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==b?(0,S.jsx)(c.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,S.jsx)(c.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,S.jsx)(v.mQ,{selectedTabId:t,children:k.map((function(n){var e=n.href,r=n.text,t=n.pathComponent;return(0,S.jsx)(g.f,{id:t,title:r,to:e},r)}))})})},I=function(){var n=(0,o.UO)(),e=n.pipelinePath,r=n.tab,t=(0,s.p3)(e);return(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,S.jsx)(y,{activeTab:r,explorerPath:t}),(0,S.jsxs)(o.rs,{children:[(0,S.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,S.jsx)(a.G,{})}),(0,S.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,S.jsx)(i.CY,{})})]})]})},b=I},42468:function(n,e,r){"use strict";r.d(e,{Y:function(){return i}});var t=r(60319),o=r(32667),i=t.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"sc-n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){var e=n.$top;return void 0===e?0:e}),o.w.White,o.w.KeylineGray)},86562:function(n,e,r){"use strict";r.d(e,{Rp:function(){return p},b$:function(){return a},pI:function(){return l}});var t=r(60319),o=(r(78193),r(45519)),i=r(32375),s=r(35936),a=function(n){var e=n.hasPrevCursor,r=n.hasNextCursor,t=n.popCursor,a=n.advanceCursor;return(0,s.jsxs)(p,{children:[(0,s.jsx)(o.zx,{disabled:!e,icon:(0,s.jsx)(i.JO,{name:"arrow_back"}),onClick:t,children:"Previous"}),(0,s.jsx)(o.zx,{disabled:!r,rightIcon:(0,s.jsx)(i.JO,{name:"arrow_forward"}),onClick:a,children:"Next"})]})},l=function(n){var e=n.hasPrevCursor,r=n.hasNextCursor,t=n.popCursor,a=n.advanceCursor;return(0,s.jsxs)(p,{children:[(0,s.jsx)(o.zx,{icon:(0,s.jsx)(i.JO,{name:"arrow_back"}),disabled:!e,onClick:t,children:(0,s.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,s.jsx)(o.zx,{rightIcon:(0,s.jsx)(i.JO,{name:"arrow_forward"}),disabled:!r,onClick:a,children:(0,s.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},p=t.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])},225:function(n,e,r){var t=r(67268),o=r(86357),i=r(93550),s=r(9747),a=r(4564),l=r(59390);n.exports=function(n,e,r,p){var u=-1,d=o,c=!0,h=n.length,x=[],f=e.length;if(!h)return x;r&&(e=s(e,a(r))),p?(d=i,c=!1):e.length>=200&&(d=l,c=!1,e=new t(e));n:for(;++u<h;){var v=n[u],m=null==r?v:r(v);if(v=p||0!==v?v:0,c&&m===m){for(var g=f;g--;)if(e[g]===m)continue n;x.push(v)}else d(e,m,p)||x.push(v)}return x}},92578:function(n,e,r){var t=r(8945),o=r(70214);n.exports=function(n,e){return t(o(n,e),1)}},67656:function(n,e,r){var t=r(56797),o=r(93348)((function(n,e,r){t(n,r,e)}));n.exports=o},42918:function(n,e,r){var t=r(9747),o=r(39095),i=r(74864),s=r(70002);n.exports=function(n,e){if(null==n)return{};var r=t(s(n),(function(n){return[n]}));return e=o(e),i(n,r,(function(n,r){return e(n,r[0])}))}},97346:function(n,e,r){var t=r(225),o=r(94518),i=r(22482),s=o((function(n,e){return i(n)?t(n,e):[]}));n.exports=s}}]);
//# sourceMappingURL=596.3474ee68.chunk.js.map