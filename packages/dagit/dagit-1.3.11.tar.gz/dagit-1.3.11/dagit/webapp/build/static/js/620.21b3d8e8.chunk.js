"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[620],{1035:function(e,n,t){t.d(n,{i:function(){return o}});var r=t(32667),i=t(78193),a=t(9938),s=t(35936),o=function(e){var n=e.edges,t=e.highlighted,a=e.strokeWidth,o=void 0===a?4:a,d=e.baseColor,c=void 0===d?r.w.KeylineGray:d;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(l,{color:c,edges:n,strokeWidth:o}),(0,s.jsx)(l,{color:r.w.Blue500,edges:n.filter((function(e){var n=e.fromId,r=e.toId;return t===n||t===r})),strokeWidth:o})]})},l=i.memo((function(e){var n=e.edges,t=e.color,r=e.strokeWidth;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("defs",{children:(0,s.jsx)("marker",{id:"arrow".concat(btoa(t)),viewBox:"0 0 8 10",refX:"1",refY:"5",markerUnits:"strokeWidth",markerWidth:r,orient:"auto",children:(0,s.jsx)("path",{d:"M 0 0 L 8 5 L 0 10 z",fill:t})})}),n.map((function(e,n){return(0,s.jsx)("path",{d:(0,a.cD)({source:e.from,target:e.to}),stroke:t,strokeWidth:r,fill:"none",markerEnd:"url(#arrow".concat(btoa(t),")")},n)}))]})}))},14228:function(e,n,t){t.d(n,{OK:function(){return qe},md:function(){return Je},CZ:function(){return We}});var r,i,a,s,o=t(41361),l=t(32723),d=t(68079),c=t(34795),u=t(96234),p=t(33028),m=t(60319),h=t(67445),f=t(84464),x=t(17868),y=t(32667),g=t(17914),v=t(47515),j=t(42918),b=t.n(j),N=t(23662),w=t.n(N),Z=t(97346),A=t.n(Z),S=t(78193),O=t(39707),k=t(30559),K=t(77647),z=t(1018),E=t(21916),_=t(8171),M=t(25620),C=t(78387),I=t(64218),P=t(13422),D=t(1035),F=t(71171),L=t(90239),G=t(31623),T=t(62638),R=t(44907),Q=t(89332),U=t(66708),$=t(35936),V=function(e){var n=e.pipelineSelector,t=(0,L.a)(B,{variables:{pipelineSelector:n}}),r=n.repositoryName,i=n.repositoryLocationName,a=(0,U.kQ)(r,i);return(0,$.jsx)(P.g,{queryResult:t,children:function(e){var n=e.pipelineSnapshotOrError;return"PipelineSnapshot"!==n.__typename?(0,$.jsx)(R.Q,{isGraph:!0,result:n,repoAddress:a}):(0,$.jsx)(Q.S,{container:n,repoAddress:a})}})},B=(0,G.Ps)(r||(r=(0,F.Z)(["\n  query AssetGraphSidebarQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        ...SidebarRootContainerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),Q.q,T.B),W=t(3060),J=t(1497),q=t(7055),H=t(62459),Y=t(86741),X=t(32375),ee=t(97412),ne=t(27409),te=t(69040),re=t(46634),ie=t(83473),ae=t(34072),se=t(65532),oe=t(94403),le=t(8078),de=t(62894),ce=t(15117),ue=t(13167),pe=t(4537),me=t(67888),he=t(40854),fe=t(9938),xe=t(84674),ye=t(24265),ge=t(89622),ve=t(92761),je=t(12478),be=t(50021),Ne=function(e){var n=e.assetKey,t=e.latest,r=e.liveData,i="Run"===(null===t||void 0===t?void 0:t.runOrError.__typename)?null===t||void 0===t?void 0:t.runOrError:null,a=null===i||void 0===i?void 0:i.repositoryOrigin,s=a?(0,U.kQ)(a.repositoryName,a.repositoryLocationName):null,o=(0,ve.Ux)(s);if(!t)return(0,$.jsx)(v.x,{padding:{top:16,bottom:32},children:(0,$.jsx)(h.t,{icon:"materialization",title:"No metadata",description:"No metadata was found for this asset."})});var l=t,d="MaterializationEvent"===l.__typename?null===l||void 0===l?void 0:l.assetLineage:[];return(0,$.jsx)(we,{children:(0,$.jsxs)("tbody",{children:[(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Run"}),(0,$.jsx)("td",{children:i?(0,$.jsxs)("div",{children:[(0,$.jsxs)(v.x,{children:["Run ",(0,$.jsx)(ee.rU,{to:"/runs/".concat(l.runId,"?timestamp=").concat(l.timestamp),children:(0,$.jsx)(ie.fv,{children:(0,ge.EI)({id:l.runId})})})]}),!(0,fe.pv)(i.pipelineName)&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(v.x,{padding:{left:8,top:4},children:(0,$.jsx)(ye.h,{showIcon:!0,pipelineName:i.pipelineName,pipelineHrefContext:s||"repo-unknown",snapshotId:i.pipelineSnapshotId,isJob:(0,ve.E8)(o,i.pipelineName)})}),(0,$.jsxs)(pe.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,$.jsx)(X.JO,{name:"linear_scale",color:y.w.Gray400}),(0,$.jsx)(ee.rU,{to:(0,ge.tA)(i,l),children:l.stepKey})]})]})]}):"No materialization events"}),(0,$.jsx)("td",{})]}),null!==t&&void 0!==t&&t.partition?(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Partition"}),(0,$.jsx)("td",{children:t?t.partition:"No materialization events"}),(0,$.jsx)("td",{})]}):null,(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Timestamp"}),(0,$.jsx)("td",{children:(0,$.jsxs)(v.x,{flex:{gap:8,alignItems:"center"},children:[l?(0,$.jsx)(he.E,{timestamp:{ms:Number(l.timestamp)}}):"No materialization events",r&&(0,$.jsx)(be.d9,{assetKey:n,liveData:r,include:"all"})]})}),(0,$.jsx)("td",{})]}),null!==d&&void 0!==d&&d.length?(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"Parent assets"}),(0,$.jsx)("td",{children:(0,$.jsx)(je.i,{elements:d,timestamp:l.timestamp})}),(0,$.jsx)("td",{})]}):null,null===l||void 0===l?void 0:l.metadataEntries.map((function(e){return(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:e.label}),(0,$.jsx)("td",{children:(0,$.jsx)(xe.BL,{entry:e,expandSmallValues:!0,repoLocation:null===s||void 0===s?void 0:s.location})}),(0,$.jsx)("td",{children:e.description})]},"metadata-".concat(e.label))}))]})})},we=(0,m.ZP)(me.i).withConfig({displayName:"LastMaterializationMetadata__MetadataTable",componentId:"sc-1u4xf4p-0"})(["td:first-child{white-space:nowrap;width:1px;max-width:400px;word-break:break-word;overflow:hidden;text-overflow:ellipsis;}"]),Ze=t(51294),Ae=t(44435),Se=function(e){var n=e.asset,t=e.assetLastMaterializedAt,r=e.isSourceAsset,i=e.liveData,a=(0,Ae.fE)(n.assetKey,{},{assetHasDefinedPartitions:!!n.partitionDefinition}),s=a.materializations,o=a.observations,l=a.loadedPartitionKeys,d=a.loading,c=a.refetch,u=a.xAxis,p=(0,Ze.L)(u,s,o,l),m=r?o[0]:s[0];return S.useEffect((function(){c()}),[t,c]),d?(0,$.jsx)(v.x,{padding:{vertical:20},children:(0,$.jsx)(H.$,{purpose:"section"})}):(0,$.jsxs)($.Fragment,{children:[!n.partitionDefinition&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ue.Z,{run:(null===i||void 0===i?void 0:i.runWhichFailedToMaterialize)||null,border:{side:"top",width:1,color:y.w.KeylineGray}}),(0,$.jsx)(ce.j,{liveData:i,border:{side:"top",width:1,color:y.w.KeylineGray}})]}),n.freshnessPolicy&&(0,$.jsx)(ae.pC,{title:"Freshness policy",children:(0,$.jsxs)(v.x,{margin:{horizontal:24,vertical:12},flex:{gap:12,alignItems:"flex-start"},children:[(0,$.jsx)(ie.uT,{style:{flex:1},children:(0,de.jY)(n.freshnessPolicy)}),(0,$.jsx)(de.vy,{liveData:i,policy:n.freshnessPolicy})]})}),n.autoMaterializePolicy&&(0,$.jsx)(ae.pC,{title:"Auto-materialize policy",children:(0,$.jsxs)(v.x,{margin:{horizontal:24,vertical:12},flex:{gap:12,alignItems:"flex-start"},children:[(0,$.jsx)(ie.uT,{style:{flex:1},children:(0,le.r)(n.autoMaterializePolicy)}),(0,$.jsx)(le.W,{policy:n.autoMaterializePolicy})]})}),l.length>1?null:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ae.pC,{title:r?"Observation in last run":"Materialization in last run",children:m?(0,$.jsx)("div",{style:{margin:-1,maxWidth:"100%",overflowX:"auto"},children:(0,$.jsx)(Ne,{assetKey:n.assetKey,latest:m,liveData:i})}):(0,$.jsx)(v.x,{margin:{horizontal:24,vertical:12},style:{color:y.w.Gray500,fontSize:"0.8rem"},children:r?"No observations found":"No materializations found"})}),(0,$.jsx)(ae.pC,{title:r?"Observation system tags":"Materialization system tags",collapsedByDefault:!0,children:m?(0,$.jsx)("div",{style:{margin:-1,maxWidth:"100%",overflowX:"auto"},children:(0,$.jsx)(se.M,{event:m,paddingLeft:24})}):(0,$.jsx)(v.x,{margin:{horizontal:24,vertical:12},style:{color:y.w.Gray500,fontSize:"0.8rem"},children:r?"No observations found":"No materializations found"})})]}),(0,$.jsx)(ae.pC,{title:"Metadata plots",children:(0,$.jsx)(oe.l,{xAxis:u,asSidebarSection:!0,groups:p,columnCount:1})})]})},Oe=t(17163),ke=t(50883),Ke=t(64869),ze=t(95460),Ee=t(85514),_e=t(52072),Me=t(27954),Ce=t(54665),Ie=t(54335),Pe=t(99986),De=t(63167),Fe=function(e){var n,t,r=e.graphNode,i=e.liveData,a=r.assetKey,s=r.definition,o=(0,_e.em)(i),l=(0,_e.mR)([a],o,"background"),d=(0,L.a)(Qe,{variables:{assetKey:{path:a.path}}}).data,c=(i||{}).lastMaterialization,u="AssetNode"===(null===d||void 0===d?void 0:d.assetNodeOrError.__typename)?d.assetNodeOrError:null;if(!u)return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Ge,{assetNode:s,repoAddress:null}),(0,$.jsx)(v.x,{padding:{vertical:64},children:(0,$.jsx)(H.$,{purpose:"section"})})]});var p=(0,U.kQ)(u.repository.name,u.repository.location.name),m=(0,re.U6)(u),h=m.assetMetadata,f=m.assetType,x=f||h.length>0,g=null===(n=u.configField)||void 0===n?void 0:n.configType,j=(null===(t=u.op)||void 0===t?void 0:t.metadata)&&(0,Pe.D)(u.op.metadata);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Ge,{assetNode:s,repoAddress:p}),(0,$.jsx)(te.N,{assetKey:a,loadedFromRepo:p,padded:!1}),(u.description||(null===j||void 0===j?void 0:j.SidebarComponent)||!x)&&(0,$.jsxs)(ae.pC,{title:"Description",children:[(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:(0,$.jsx)(Ce.d,{description:u.description||"No description provided"})}),u.op&&(null===j||void 0===j?void 0:j.SidebarComponent)&&(0,$.jsx)(v.x,{padding:{bottom:16,horizontal:24},children:(0,$.jsx)(j.SidebarComponent,{definition:u.op,repoAddress:p})})]}),(0,$.jsx)(Se,{asset:u,assetLastMaterializedAt:null===c||void 0===c?void 0:c.timestamp,isSourceAsset:s.isSource,liveData:i}),(0,$.jsx)("div",{style:{borderBottom:"2px solid ".concat(y.w.Gray300)}}),(0,fe.Pz)(r)&&(0,$.jsx)(Oe.x,{}),u.opVersion&&(0,$.jsx)(ae.pC,{title:"Code Version",children:(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:(0,$.jsx)(ze.G,{children:u.opVersion})})}),g&&(0,$.jsx)(ae.pC,{title:"Config",children:(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:(0,$.jsx)(Y.L,{type:g,typesInScope:g.recursiveConfigTypes})})}),u.requiredResources.length>0&&(0,$.jsx)(ae.pC,{title:"Required Resources",children:(0,$.jsx)(v.x,{padding:{vertical:16,horizontal:24},children:u.requiredResources.map((function(e){return(0,$.jsxs)(Ie.b1,{children:[(0,$.jsx)(X.JO,{name:"resource",color:y.w.Gray700}),p?(0,$.jsx)(ee.rU,{to:(0,De.$U)(p,"/resources/".concat(e.resourceKey)),children:(0,$.jsx)(Ie.bZ,{children:e.resourceKey})}):(0,$.jsx)(Ie.bZ,{children:e.resourceKey})]},e.resourceKey)}))})}),h.length>0&&(0,$.jsx)(ae.pC,{title:"Metadata",children:(0,$.jsx)(re.mQ,{assetMetadata:h,repoLocation:null===p||void 0===p?void 0:p.location})}),f&&(0,$.jsx)(Le,{assetType:f}),u.partitionDefinition&&(0,$.jsx)(ae.pC,{title:"Partitions",children:(0,$.jsxs)(v.x,{padding:{vertical:16,horizontal:24},flex:{direction:"column",gap:16},children:[(0,$.jsx)("p",{children:u.partitionDefinition.description}),(0,$.jsx)(ke.m,{assetKey:u.assetKey,data:l})]})})]})},Le=function(e){var n=e.assetType;return(0,$.jsx)(ae.pC,{title:"Type",children:(0,$.jsx)(Me.Ot,{type:n})})},Ge=function(e){var n=e.assetNode,t=e.repoAddress,r=(0,fe.ll)(n.assetKey);return(0,$.jsxs)(v.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,$.jsx)(ae.R8,{style:{marginBottom:0,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:(0,$.jsx)(v.x,{children:r})}),(0,$.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,$.jsxs)(Te,{to:(0,Ee.p)(n.assetKey),children:["View in Asset Catalog ",(0,$.jsx)(X.JO,{name:"open_in_new",color:y.w.Link})]}),t&&(0,$.jsx)(Ke.d,{assetNode:n,repoAddress:t,minimal:!0})]})]})},Te=(0,m.ZP)(ee.rU).withConfig({displayName:"SidebarAssetInfo__AssetCatalogLink",componentId:"sc-qra0a8-0"})(["display:flex;gap:5px;padding:6px;margin:-6px;align-items:center;white-space:nowrap;"]),Re=(0,G.Ps)(i||(i=(0,F.Z)(["\n  fragment SidebarAssetFragment on AssetNode {\n    id\n    description\n    ...AssetNodeConfigFragment\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    freshnessPolicy {\n      maximumLagMinutes\n      cronSchedule\n      cronScheduleTimezone\n    }\n    autoMaterializePolicy {\n      policyType\n    }\n    partitionDefinition {\n      description\n    }\n    assetKey {\n      path\n    }\n    op {\n      name\n      description\n      metadata {\n        key\n        value\n      }\n    }\n    opVersion\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n\n    ...AssetNodeOpMetadataFragment\n  }\n\n  ","\n  ","\n  ","\n"])),ne.r,xe.it,re.Ws),Qe=(0,G.Ps)(a||(a=(0,F.Z)(["\n  query SidebarAssetQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        ...SidebarAssetFragment\n      }\n    }\n  }\n\n  ","\n"])),Re),Ue=t(34570),$e=t(61794);var Ve=(0,G.Ps)(s||(s=(0,F.Z)(["\n  query AssetForNavigationQuery($key: AssetKeyInput!) {\n    assetOrError(assetKey: $key) {\n      ... on Asset {\n        id\n        definition {\n          id\n          opNames\n          jobNames\n          groupName\n          repository {\n            id\n            name\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),Be=t(65778),We=.6,Je=.15,qe=function(e){var n=(0,Ue.uc)(e.explorerPath.opsQuery,e.fetchOptions),t=n.fetchResult,r=n.assetGraphData,i=n.graphQueryItems,a=n.graphAssetKeys,s=n.allAssetKeys,o=n.applyingEmptyDefault,l=(0,Be.le)(a),d=l.liveDataByNode,c=l.liveDataRefreshState;return(0,$.jsx)(P.g,{allowStaleData:!0,queryResult:t,children:function(){return r&&s?(0,fe.vm)(r)?(0,$.jsx)(h.t,{icon:"error",title:"Cycle detected",description:"Assets dependencies form a cycle"}):(0,$.jsx)(He,(0,p.Z)({assetGraphData:r,allAssetKeys:s,graphQueryItems:i,applyingEmptyDefault:o,liveDataRefreshState:c,liveDataByNode:d},e),e.explorerPath.pipelineName):(0,$.jsx)(h.t,{icon:"error",title:"Query Error"})}})},He=function(e){var n=e.options,t=e.setOptions,r=e.explorerPath,i=e.onChangeExplorerPath,a=e.onNavigateToSourceAssetNode,s=e.liveDataRefreshState,o=e.liveDataByNode,m=e.assetGraphData,h=e.graphQueryItems,j=e.applyingEmptyDefault,N=e.fetchOptions,Z=e.fetchOptionFilters,P=function(){var e=(0,$e.x)();return S.useCallback(function(){var n=(0,c.Z)((0,l.Z)().mark((function n(t){var r,i,a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({query:Ve,variables:{key:t}});case 2:if(r=n.sent,"Asset"!==(null===(i=r.data)||void 0===i?void 0:i.assetOrError.__typename)||null===i||void 0===i||!i.assetOrError.definition){n.next=7;break}return a=i.assetOrError.definition,n.abrupt("return",{assetKey:t,opNames:a.opNames,jobName:a.jobNames.find((function(e){return!(0,fe.pv)(e)}))||null,groupName:a.groupName,repoAddress:a.repository?(0,U.kQ)(a.repository.name,a.repository.location.name):null});case 7:return n.abrupt("return",{assetKey:t,opNames:[],jobName:null,groupName:null,repoAddress:null});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e])}(),F=(0,E.oJ)(m),L=F.layout,G=F.loading,T=F.async,R=S.useRef(),Q=S.useState(null),B=(0,u.Z)(Q,2),H=B[0],Y=B[1],X=r.opNames[r.opNames.length-1].split(","),ee=Object.values(m.nodes).filter((function(e){return X.includes((0,fe.Je)(e.definition.assetKey))})),ne=ee[ee.length-1],te=ee.map((function(e){return e.definition})),re=j?h.map((function(e){return e.node})):Object.values(m.nodes).map((function(e){return e.definition})),ie=S.useCallback(function(){var e=(0,c.Z)((0,l.Z)().mark((function e(n,t,s){var o,c,u,h,f,x,y,g;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),o=(0,fe.Je)(t),c=null===s||void 0===s?void 0:s.definition){e.next=9;break}return e.t0=a,e.next=7,P(t);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:u=o,(n.shiftKey||n.metaKey)&&(h=[o],n.shiftKey&&ne&&s&&(f=Xe({graph:m,from:ne,to:s})).length&&(h=f),x=r.opNames[0].split(","),u=(x.includes(o)?A()(x,o):w()([].concat((0,d.Z)(x),(0,d.Z)(h)))).join(",")),(y=null===L||void 0===L?void 0:L.nodes[u[u.length-1]])&&(null===(g=R.current)||void 0===g||g.zoomToSVGCoords(y.bounds.x,y.bounds.y,!0)),i((0,p.Z)((0,p.Z)({},r),{},{opNames:[u],opsQuery:c?r.opsQuery:"".concat(r.opsQuery,',++"').concat(o,'"++'),pipelineName:r.pipelineName}),"replace");case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),[r,i,a,P,ne,m,L]),ae=S.useState(null),se=(0,u.Z)(ae,2),oe=se[0],le=se[1],de=oe!==L;S.useEffect((function(){de&&L&&R.current&&(ne?R.current.focus():R.current.autocenter(!1),le(L))}),[de,ne,L,R]);var ce=!(!L||!Object.keys(L.groups).length);return(0,$.jsx)(f.OS,{identifier:"explorer",firstInitialPercent:70,firstMinSize:400,first:(0,$.jsxs)(x.S,{region:"graph",children:[0===h.length?(0,$.jsx)(C.LS,{nodeType:"asset",isGraph:!0}):j?(0,$.jsx)(C.K4,{nodeType:"asset"}):0===Object.keys(m.nodes).length?(0,$.jsx)(C.VQ,{nodeType:"asset"}):void 0,G||!L?(0,$.jsx)(C.W_,{async:T,nodeType:"asset"}):(0,$.jsx)(z.l,{ref:function(e){return R.current=e||void 0},interactor:z.l.Interactors.PanAndZoom,graphWidth:L.width,graphHeight:L.height,graphHasNoMinimumZoom:ce,onClick:function(){return i((0,p.Z)((0,p.Z)({},r),{},{pipelineName:r.pipelineName,opNames:[]}),"replace")},onArrowKeyDown:function(e,n){if(L){var t=(0,p.Z)((0,p.Z)({},L),{},{nodes:b()(L.nodes,(function(e){var n;return!(null===(n=m.nodes[e.id])||void 0===n||!n.definition)}))}),r=(0,_.mh)(t,ne.id,n),i=r&&m.nodes[r];i&&R.current&&(ie(e,i.assetKey,i),R.current.zoomToSVGBox(L.nodes[r].bounds,!0))}},onDoubleClick:function(e){var n;null===(n=R.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1,children:function(e){var n=e.scale;return(0,$.jsxs)(Ye,{width:L.width,height:L.height,children:[(0,$.jsx)(D.i,{highlighted:H,edges:L.edges,strokeWidth:ce?Math.max(4,3/n):4,baseColor:ce&&n<Je?y.w.Gray400:y.w.KeylineGray}),Object.values(L.groups).sort((function(e,n){return e.id.length-n.id.length})).map((function(e){return(0,$.jsx)("foreignObject",(0,p.Z)((0,p.Z)({},e.bounds),{},{onDoubleClick:function(n){if(R.current){var t=R.current.scaleForSVGBounds(e.bounds.width,e.bounds.height);R.current.zoomToSVGBox(e.bounds,!0,.9*t),n.stopPropagation()}},children:(0,$.jsx)(W.l,{group:e,scale:n})}),e.id)})),Object.values(L.nodes).map((function(e){var t=e.id,r=e.bounds,i=m.nodes[t],a=JSON.parse(t);if(!(ce&&n<Je))return(0,S.createElement)("foreignObject",(0,p.Z)((0,p.Z)({},r),{},{key:t,onMouseEnter:function(){return Y(t)},onMouseLeave:function(){return Y(null)},onClick:function(e){return ie(e,{path:a},i)},onDoubleClick:function(e){var n;null===(n=R.current)||void 0===n||n.zoomToSVGBox(r,!0,1.2),e.stopPropagation()},style:{overflow:"visible"}}),i?n<We?(0,$.jsx)(J.t$,{definition:i.definition,liveData:o[i.id],selected:ee.includes(i)}):(0,$.jsx)(J.p4,{definition:i.definition,liveData:o[i.id],selected:ee.includes(i)}):(0,$.jsx)(q.w,{assetKey:{path:a}}))}))]})}}),t&&(0,$.jsx)(M.cY,{children:(0,$.jsx)(g.X,{format:"switch",label:"View as Asset Graph",checked:n.preferAssetRendering,onChange:function(){var e;i((0,p.Z)((0,p.Z)({},r),{},{opNames:(null===(e=te[0])||void 0===e?void 0:e.opNames)||[]}),"replace"),t((0,p.Z)((0,p.Z)({},n),{},{preferAssetRendering:!n.preferAssetRendering}))}})}),(0,$.jsx)(v.x,{flex:{direction:"column",alignItems:"flex-end",gap:8},style:{position:"absolute",right:12,top:8},children:(0,$.jsxs)(v.x,{flex:{alignItems:"center",gap:12},children:[(0,$.jsx)(O.xi,{refreshState:s,dataDescription:"materializations"}),(0,$.jsx)(K.y,{preferredJobName:r.pipelineName,scope:te.length?{selected:te.filter((function(e){return e.isObservable}))}:{all:re.filter((function(e){return e.isObservable}))}}),(0,$.jsx)(k.XE,{preferredJobName:r.pipelineName,liveDataForStale:o,scope:te.length?{selected:te}:{all:re}})]})}),(0,$.jsxs)(M.U0,{children:[Z,(0,$.jsx)(I.j,{items:h,value:r.opsQuery,placeholder:"Type an asset subset\u2026",onChange:function(e){return i((0,p.Z)((0,p.Z)({},r),{},{opsQuery:e}),"replace")},popoverPosition:"bottom-left"})]})]}),second:1===ee.length&&ee[0]?(0,$.jsx)(M.Ui,{children:(0,$.jsx)(M.zI,{children:(0,$.jsx)(x.S,{region:"asset sidebar",resetErrorOnChange:[ee[0].id],children:(0,$.jsx)(Fe,{graphNode:ee[0],liveData:o[ee[0].id]})})})}):N.pipelineSelector?(0,$.jsx)(M.Ui,{children:(0,$.jsx)(M.zI,{children:(0,$.jsx)(x.S,{region:"asset job sidebar",children:(0,$.jsx)(V,{pipelineSelector:N.pipelineSelector})})})}):null})},Ye=m.ZP.svg.withConfig({displayName:"AssetGraphExplorer__SVGContainer",componentId:"sc-hnrxmo-0"})(["overflow:visible;border-radius:0;"]),Xe=function e(n){var t=n.graph,r=n.from,i=n.to,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!r)return[];if(r.id===i.id)return(0,d.Z)(i.definition.opNames);if(0===a.length&&"upstream"===function(e){for(var n=e.graph,t=e.from,r=e.to,i=[t];i.length;){var a=i.pop(),s=(0,d.Z)(Object.keys(n.downstream[a.id]||{})).map((function(e){return n.nodes[e]})).filter(Boolean);if(s.some((function(e){return e.id===r.id})))return"downstream";i.push.apply(i,(0,d.Z)(s))}return"upstream"}({graph:t,from:r,to:i})){var s=[i,r];r=s[0],i=s[1]}var l,c=(0,d.Z)(Object.keys(t.downstream[r.id]||{})).map((function(e){return t.nodes[e]})).filter(Boolean),u=[],p=(0,o.Z)(c);try{for(p.s();!(l=p.n()).done;){var m=l.value;if(!a.includes(m.id)){var h=e({graph:t,from:m,to:i},[].concat((0,d.Z)(a),[r.id]));h.length&&u.push.apply(u,(0,d.Z)(r.definition.opNames).concat((0,d.Z)(h)))}}}catch(f){p.e(f)}finally{p.f()}return w()(u)}},3060:function(e,n,t){t.d(n,{l:function(){return f}});var r=t(60319),i=t(47515),a=t(83473),s=t(32375),o=t(32667),l=t(57103),d=(t(78193),t(97412)),c=t(88949),u=t(66708),p=t(63167),m=t(14228),h=t(35936),f=function(e){var n=e.group,t=e.scale,r=n.repositoryLocationName,f=n.repositoryDisambiguationRequired,g=n.repositoryName,v=n.groupName;return(0,h.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[t>m.md&&(0,h.jsx)(i.x,{flex:{alignItems:"flex-end"},style:{height:70},children:(0,h.jsxs)(a.fv,{style:{fontWeight:600,userSelect:"none",fontSize:t>m.CZ?"16px":"32px",display:"flex",gap:6},children:[(0,h.jsx)(s.JO,{name:"asset_group",color:o.w.Gray400,size:t>m.CZ?20:48}),(0,h.jsxs)(i.x,{flex:{direction:"column"},children:[(0,h.jsx)(d.rU,{style:{color:o.w.Gray400},onClick:function(e){return e.stopPropagation()},to:(0,p.rO)(g,r,"/asset-groups/".concat(v)),children:v}),f&&(0,h.jsx)(y,{style:{marginBottom:"0.5em"},children:(0,c.R9)((0,u.At)(g,r),{maxLength:45})})]})]})}),(0,h.jsx)(x,{style:{inset:0,top:75,position:"absolute",background:t<m.md?"rgba(234, 234, 234, 1)":"rgba(217, 217, 217, 0.25)"}}),t<m.md?(0,h.jsx)(i.x,{flex:{justifyContent:"center",alignItems:"center"},style:{inset:0,position:"absolute",fontSize:"".concat(12/t,"px"),userSelect:"none"},children:(0,h.jsxs)(i.x,{flex:{direction:"column",alignItems:"center"},style:{fontWeight:600,fontFamily:l.b.monospace},children:[v,f&&(0,h.jsx)(y,{children:(0,c.R9)((0,u.At)(g,r),{maxLength:45})})]})}):void 0]})},x=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupOutline",componentId:"sc-osbgfp-0"})(["width:100%;border-radius:10px;pointer-events:none;"]),y=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupRepoName",componentId:"sc-osbgfp-1"})(["font-size:0.8em;line-height:0.6em;white-space:nowrap;color:",";"],o.w.Gray400)},7055:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(60319),i=t(32375),a=t(32667),s=t(57103),o=t(78193),l=t(88949),d=t(50545),c=t(35936),u=o.memo((function(e){var n=e.assetKey,t=n.path[n.path.length-1];return(0,c.jsxs)(p,{children:[(0,c.jsx)(i.JO,{name:"open_in_new",color:a.w.Link}),(0,c.jsx)("span",{className:"label",title:t,children:(0,l.R9)(t,{maxLength:d.ASSET_LINK_NAME_MAX_LENGTH})})]})})),p=r.ZP.div.withConfig({displayName:"ForeignNode__AssetNodeLinkContainer",componentId:"sc-f3rzsb-0"})(["display:flex;padding:4px 8px 6px;margin-top:26px;line-height:30px;font-family:",";color:",";align-items:center;font-weight:600;gap:4px;&:hover .label{color:",";text-decoration:underline;}"],s.b.monospace,a.w.Link,a.w.Link)},34570:function(e,n,t){t.d(n,{BK:function(){return N},uc:function(){return v}});var r,i=t(71171),a=t(68079),s=t(41361),o=t(90239),l=t(31623),d=t(276),c=t.n(d),u=t(67656),p=t.n(u),m=t(69590),h=t.n(m),f=t(78193),x=t(62709),y=t(1497),g=t(9938);function v(e,n){var t,r=(0,o.a)(w,{notifyOnNetworkStatusChange:!0,variables:{pipelineSelector:n.pipelineSelector,groupSelector:n.groupSelector}}),i=null===(t=r.data)||void 0===t?void 0:t.assetNodes,a=f.useMemo((function(){if(void 0===i)return{graphAssetKeys:[],graphQueryItems:[],assetGraphData:null,applyingEmptyDefault:!1};var t=i;n.hideNodesMatching&&(t=h()(t,n.hideNodesMatching));var r=j(t),a=(0,x.V)(r,e),s=a.all,o=a.applyingEmptyDefault,l=(0,g.VZ)(s.map((function(e){return e.node})));return n.hideEdgesToNodesOutsideQuery&&b(l,i),{allAssetKeys:t.map((function(e){return e.assetKey})),graphAssetKeys:s.map((function(e){return{path:e.node.assetKey.path}})),assetGraphData:l,graphQueryItems:r,applyingEmptyDefault:o}}),[i,e,n.hideEdgesToNodesOutsideQuery,n.hideNodesMatching]);return{fetchResult:r,assetGraphData:a.assetGraphData,graphQueryItems:a.graphQueryItems,graphAssetKeys:a.graphAssetKeys,allAssetKeys:a.allAssetKeys,applyingEmptyDefault:a.applyingEmptyDefault}}var j=function(e){var n,t={},r=(0,s.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=(0,g.Je)(i.assetKey);t[a]={node:i,name:a,inputs:i.dependencyKeys.map((function(e){return{dependsOn:[{solid:{name:(0,g.Je)(e)}}]}})),outputs:i.dependedByKeys.map((function(e){return{dependedBy:[{solid:{name:(0,g.Je)(e)}}]}}))}}}catch(o){r.e(o)}finally{r.f()}return Object.values(t)},b=function(e,n){for(var t=c()(n,(function(e){return(0,g.Wu)(e.assetKey)})),r=function(e){return!!t[e]},i=0,a=Object.keys(e.upstream);i<a.length;i++)for(var s=a[i],o=0,l=Object.keys(e.upstream[s]);o<l.length;o++){var d=l[o];!e.nodes[d]&&r(s)&&(delete e.upstream[s][d],delete e.downstream[d][s])}for(var u=0,p=Object.keys(e.downstream);u<p.length;u++)for(var m=p[u],h=0,f=Object.keys(e.downstream[m]);h<f.length;h++){var x=f[h];!e.nodes[x]&&r(m)&&(delete e.upstream[x][m],delete e.downstream[m][x])}},N=function(e,n){var t=p()(e,(function(e){return e.name})),r=t[(0,g.Je)(n)];if(!r)return{upstream:0,downstream:0};return{upstream:function e(n,r){var i=t[n].inputs.flatMap((function(e){return e.dependsOn.map((function(e){return e.solid.name}))})).filter((function(e){return e!==n}));return Math.max.apply(Math,[r].concat((0,a.Z)(i.map((function(n){return e(n,r+1)})))))}(r.name,0),downstream:function e(n,r){var i=t[n].outputs.flatMap((function(e){return e.dependedBy.map((function(e){return e.solid.name}))})).filter((function(e){return e!==n}));return Math.max.apply(Math,[r].concat((0,a.Z)(i.map((function(n){return e(n,r+1)})))))}(r.name,0)}},w=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query AssetGraphQuery($pipelineSelector: PipelineSelector, $groupSelector: AssetGroupSelector) {\n    assetNodes(pipeline: $pipelineSelector, group: $groupSelector) {\n      id\n      ...AssetNodeForGraphQuery\n    }\n  }\n\n  fragment AssetNodeForGraphQuery on AssetNode {\n    id\n    groupName\n    hasMaterializePermission\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    dependencyKeys {\n      path\n    }\n    dependedByKeys {\n      path\n    }\n    ...AssetNodeFragment\n  }\n\n  ","\n"])),y.zU)},65532:function(e,n,t){t.d(n,{M:function(){return f}});var r=t(68079),i=t(96234),a=t(60319),s=t(83473),o=t(92555),l=t(47515),d=t(32375),c=t(32667),u=(t(78193),t(79962)),p=t(68506),m=t(35936),h=[p.H.AssetEventDataVersion.valueOf(),p.H.AssetEventDataVersionDeprecated.valueOf(),p.H.AssetEventCodeVersion.valueOf()],f=function(e){var n=e.event,t=e.paddingLeft,a=e.collapsible,c=(0,u.U)("show-asset-system-tags",Boolean),f=(0,i.Z)(c,2),y=f[0],g=f[1];return a&&!y?(0,m.jsx)(s.YS,{children:(0,m.jsx)(o.Z,{onClick:function(){return g(!0)},children:(0,m.jsxs)(l.x,{flex:{alignItems:"center"},children:[(0,m.jsxs)("span",{children:["Show tags (",(null===n||void 0===n?void 0:n.tags.length)||0,")"]}),(0,m.jsx)(d.JO,{name:"arrow_drop_down",style:{transform:"rotate(0deg)"}})]})})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{children:(0,m.jsx)("tbody",{children:null!==n&&void 0!==n&&n.tags.length?(0,r.Z)(n.tags).sort((function(e,n){return h.indexOf(n.key)-h.indexOf(e.key)})).map((function(e){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{style:{paddingLeft:t},children:(0,m.jsx)(s.fv,{children:e.key.replace(p.H.Namespace,"")})}),(0,m.jsx)("td",{children:e.value})]},e.key)})):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{style:{paddingLeft:t},children:"No tags to display."})})})}),a&&(0,m.jsx)(s.YS,{children:(0,m.jsx)(o.Z,{onClick:function(){return g(!1)},children:(0,m.jsxs)(l.x,{flex:{alignItems:"center"},children:[(0,m.jsx)("span",{children:"Hide tags"}),(0,m.jsx)(d.JO,{name:"arrow_drop_down",style:{transform:"rotate(180deg)"}})]})})})]})},x=a.ZP.table.withConfig({displayName:"AssetEventSystemTags__AssetEventSystemTagsTable",componentId:"sc-186zkuz-0"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td:first-child{max-width:300px;word-wrap:break-word;width:25%;}tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray)},12478:function(e,n,t){t.d(n,{Q:function(){return g},i:function(){return y}});var r,i=t(71171),a=t(96234),s=t(68079),o=t(31623),l=t(47515),d=t(44229),c=t(92555),u=t(78193),p=t(97412),m=t(40854),h=t(85514),f=t(35936),x=function(e){var n=e.lineage_info,t=e.timestamp,r=1===n.partitions.length?"Partition":"Partitions",i=n.partitions.map((function(e){return'"'.concat(e,'"')})).join(", "),a=(0,h.p)(n.assetKey,{asOf:t});return(0,f.jsxs)(l.x,{margin:{bottom:4},children:[n.partitions.length>0?"".concat(r," ").concat(i," of "):"",(0,f.jsx)(d.u,{content:(0,f.jsxs)(f.Fragment,{children:["View snapshot as of"," ",(0,f.jsx)(m.E,{timestamp:{ms:Number(t)},timeFormat:{showSeconds:!0,showTimezone:!0}})]}),modifiers:{offset:{enabled:!0,options:{offset:[0,16]}}},placement:"right",children:(0,f.jsx)(p.rU,{to:a,children:(0,f.jsx)(l.x,{flex:{display:"inline-flex",alignItems:"center"},children:n.assetKey.path.map((function(e,n){return(0,f.jsx)("span",{children:e},n)})).reduce((function(e,n,t){return[].concat((0,s.Z)(e),[t>0?(0,f.jsxs)(u.Fragment,{children:["\xa0",">","\xa0"]},"".concat(t,"-space")):null,n])}),[])})})})]})},y=function(e){var n=e.elements,t=e.timestamp,r=u.useState(!0),i=(0,a.Z)(r,2),s=i[0],o=i[1];return(0,f.jsxs)("div",{children:[n.length>5&&(0,f.jsx)(c.Z,{onClick:function(){return o(!s)},children:s?"Show More":"Show Less"}),(s?n.slice(n.length-5):n).map((function(e,n){return(0,f.jsx)(x,{lineage_info:e,timestamp:t},n)}))]})},g=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetLineageFragment on AssetLineageInfo {\n    assetKey {\n      path\n    }\n    partitions\n  }\n"])))},94403:function(e,n,t){t.d(n,{l:function(){return g}});var r=t(41361),i=t(68079),a=t(96234),s=t(47515),o=t(32667),l=t(83473),d=t(67445),c=t(45519),u=t(92578),p=t.n(u),m=t(23662),h=t.n(m),f=t(78193),x=t(98813),y=t(35936),g=function(e){var n=f.useState(null),t=(0,a.Z)(n,2),r=t[0],u=t[1],p=f.useMemo((function(){return(0,i.Z)(e.groups).reverse()}),[e.groups]),m=v(p,e.xAxis),h=Object.keys(m).slice(0,20).sort();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr ".repeat(e.columnCount||2),justifyContent:"stretch"},children:h.map((function(n){return(0,y.jsx)(s.x,{style:{width:"100%"},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:(0,y.jsxs)(s.x,{style:{width:"100%"},border:{side:"right",width:1,color:o.w.KeylineGray},children:[e.asSidebarSection?(0,y.jsx)(s.x,{padding:{horizontal:24,top:8},flex:{justifyContent:"space-between"},children:(0,y.jsx)(l.YS,{style:{fontWeight:700},children:n})}):(0,y.jsx)(s.x,{padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:o.w.KeylineGray},flex:{justifyContent:"space-between"},children:(0,y.jsx)(l.pm,{children:n})}),(0,y.jsx)(s.x,{padding:{horizontal:24,vertical:16},children:(0,y.jsx)(x.K,{label:n,width:"100%",data:m[n],xHover:r,onHoverX:function(e){return e!==r&&u(e)}})})]})},n)}))}),0===h.length?e.asSidebarSection?(0,y.jsx)(s.x,{margin:{horizontal:24,vertical:12},style:{color:o.w.Gray500,fontSize:"0.8rem"},children:"No numeric metadata entries available to be graphed."}):(0,y.jsx)(s.x,{padding:{horizontal:24,top:64},children:(0,y.jsx)(d.t,{shrinkable:!0,icon:"asset_plot",title:"Asset plots are automatically generated by metadata",description:"Include numeric metadata entries in your materializations and observations to see data graphed by time or partition.",action:(0,y.jsx)(c.fr,{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#recording-materialization-metadata",children:"View documentation"})})}):"partition"===e.xAxis&&(0,y.jsx)(s.x,{padding:{vertical:16,horizontal:24},style:{color:o.w.Gray400},children:"When graphing values by partition, the highest data point for each materialized event label is displayed."})]})},v=function(e,n){var t,a={},s=h()(p()(e,(function(e){var n;return((null===(n=e.latest)||void 0===n?void 0:n.metadataEntries)||[]).filter((function(e){return["IntMetadataEntry","FloatMetadataEntry"].includes(e.__typename)})).map((function(e){return e.label}))}))),o=function(e,t){var r=t.x,i=t.y,s=a[e]||{minY:0,maxY:0,minXNumeric:0,maxXNumeric:0,values:[],xAxis:n};if("partition"===n){var o=s.values.find((function(e){return e.x===r}));if(o)return void(isNaN(i)||(o.y=i))}s.values.push({xNumeric:"number"===typeof r?r:s.values.length,x:r,y:i}),a[e]=s},l=(0,r.Z)(e);try{for(l.s();!(t=l.n()).done;){var d=t.value,c=d.partition,u=d.latest,m=("partition"===n?c:Number(null===u||void 0===u?void 0:u.timestamp))||null;if(null!==m){var f,x=(0,r.Z)(s);try{var y=function(){var e=f.value,n=null===u||void 0===u?void 0:u.metadataEntries.find((function(n){return n.label===e}));if(!n)return o(e,{x:m,y:NaN}),"continue";var t=NaN;"IntMetadataEntry"===n.__typename&&(t=null!==n.intValue?n.intValue:parseInt(n.intRepr)),"FloatMetadataEntry"===n.__typename&&null!==n.floatValue&&(t=n.floatValue),o(e,{x:m,y:t})};for(x.s();!(f=x.n()).done;)y()}catch(w){x.e(w)}finally{x.f()}}}}catch(w){l.e(w)}finally{l.f()}for(var g=0,v=Object.values(a);g<v.length;g++){var j=v[g],b=j.values.map((function(e){return e.xNumeric})),N=j.values.map((function(e){return e.y})).filter((function(e){return!isNaN(e)}));j.minXNumeric=Math.min.apply(Math,(0,i.Z)(b)),j.maxXNumeric=Math.max.apply(Math,(0,i.Z)(b)),j.minY=Math.min.apply(Math,(0,i.Z)(N)),j.maxY=Math.max.apply(Math,(0,i.Z)(N))}return a}},46634:function(e,n,t){t.d(n,{U6:function(){return u},Ws:function(){return m},mQ:function(){return p}});var r,i=t(71171),a=t(31623),s=t(47515),o=t(90519),l=(t(78193),t(27954)),d=t(84674),c=t(35936),u=function(e){return{assetType:e.type?e.type:void 0,assetMetadata:e.metadataEntries||[]}},p=function(e){var n=e.assetMetadata,t=e.repoLocation,r=n.map((function(e){return{key:e.label,value:(0,c.jsx)(d.BL,{entry:e,repoLocation:t})}}));return(0,c.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:(0,c.jsx)(o.nZ,{rows:r})})},m=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetNodeOpMetadataFragment on AssetNode {\n    id\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    type {\n      ...DagsterTypeFragment\n    }\n  }\n\n  ","\n  ","\n"])),d.it,l.rB)},8078:function(e,n,t){t.d(n,{W:function(){return s},r:function(){return o}});var r=t(95714),i=(t(78193),t(23555)),a=t(35936),s=function(e){var n=e.policy;return(0,a.jsx)(r.V,{children:n.policyType===i.g0H.LAZY?"Lazy":"Eager"})},o=function(e){return(0,a.jsxs)(a.Fragment,{children:["This asset is automatically re-materialized when at least one of the following are true:",(0,a.jsxs)("ul",{style:{paddingLeft:20},children:[(0,a.jsx)("li",{children:"it is missing"}),(0,a.jsx)("li",{children:"it has a freshness policy that requires more up-to-date data"}),(0,a.jsx)("li",{children:"any of its descendants have a freshness policy that require more up-to-date data"}),e.policyType===i.g0H.EAGER&&(0,a.jsx)("li",{children:"any of its parent assets / partitions have newer data"})]}),"and none of the following are true:",(0,a.jsxs)("ul",{style:{paddingLeft:20,marginBottom:0},children:[(0,a.jsx)("li",{children:"any of its parent assets / partitions are missing"}),(0,a.jsx)("li",{children:"any of its ancestor assets / partitions have ancestors of their own with newer data"})]})]})}},15117:function(e,n,t){t.d(n,{j:function(){return c}});var r=t(47515),i=t(16255),a=t(62459),s=t(78193),o=t(97412),l=t(89622),d=t(35936),c=function(e){var n=e.liveData,t=e.border,c=n||{},u=c.inProgressRunIds,p=void 0===u?[]:u,m=c.unstartedRunIds,h=void 0===m?[]:m;return 0===p.length&&0===h.length?null:(0,d.jsx)(r.x,{padding:{vertical:16,left:24,right:12},border:t,children:(0,d.jsx)(i.b,{intent:"info",icon:(0,d.jsx)(a.$,{purpose:"body-text"}),title:(0,d.jsxs)("div",{style:{fontWeight:400},children:[p.length>0&&(0,d.jsxs)(d.Fragment,{children:[p.map((function(e){return(0,d.jsxs)(s.Fragment,{children:["Run ",(0,d.jsx)(o.rU,{to:"/runs/".concat(e),children:(0,l.EI)({id:e})})]},e)}))," ",1===p.length?"is":"are"," currently refreshing this asset."]}),h.length>0&&(0,d.jsxs)(d.Fragment,{children:[h.map((function(e){return(0,d.jsxs)(s.Fragment,{children:["Run ",(0,d.jsx)(o.rU,{to:"/runs/".concat(e),children:(0,l.EI)({id:e})})]},e)}))," ",1===h.length?"has":"have"," started and will refresh this asset."]})]})})})}},17163:function(e,n,t){t.d(n,{x:function(){return l}});var r=t(47515),i=t(32667),a=t(16255),s=t(32375),o=(t(78193),t(35936)),l=function(){return(0,o.jsx)(r.x,{padding:{vertical:16,left:24,right:12},border:{side:"bottom",width:1,color:i.w.KeylineGray},children:(0,o.jsx)(a.b,{intent:"info",icon:(0,o.jsx)(s.JO,{name:"history_toggle_off",size:16,color:i.w.Blue700,style:{marginTop:1}}),title:(0,o.jsx)("div",{style:{fontWeight:400},children:"This asset depends on earlier partitions of itself. "})})})}},13167:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(47515),i=t(16255),a=(t(78193),t(97412)),s=t(89622),o=t(35936),l=function(e){var n=e.run,t=e.border,l=e.padding,d=void 0===l?{vertical:16,left:24,right:12}:l;return n?(0,o.jsx)(r.x,{padding:d,border:t,children:(0,o.jsx)(i.b,{intent:"error",title:(0,o.jsxs)("div",{style:{fontWeight:400},children:["Run ",(0,o.jsx)(a.rU,{to:"/runs/".concat(n.id),children:(0,s.EI)(n)})," failed to materialize this asset."]})})}):null}},77647:function(e,n,t){t.d(n,{y:function(){return g}});var r=t(32723),i=t(34795),a=t(96234),s=t(61794),o=t(44229),l=t(45519),d=t(32375),c=t(62459),u=t(78193),p=t(80005),m=t(1360),h=t(66708),f=t(9610),x=t(30559),y=t(35936),g=function(e){var n=e.scope,t=e.preferredJobName,h=e.intent,f=void 0===h?"none":h,g=(0,(0,m.C)().useLaunchWithTelemetry)(),j=u.useState({type:"none"}),b=(0,a.Z)(j,2),N=b[0],w=b[1],Z=(0,s.x)(),A="selected"in n?n.selected:n.all;if(!A.length)return(0,y.jsx)("span",{});var S=A.length>1?" (".concat(A.length,")"):"",O="selected"in n?"Observe selected".concat(S):n.skipAllTerm?"Observe".concat(S):"Observe sources ".concat(S);if(!A.every((function(e){return e.hasMaterializePermission})))return(0,y.jsx)(o.u,{content:"You do not have permission to observe source assets",children:(0,y.jsx)(l.zx,{intent:f,icon:(0,y.jsx)(d.JO,{name:"observation"}),disabled:!0,children:O})});var k=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,a,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==N.type){e.next=2;break}return e.abrupt("return");case 2:return w({type:"loading"}),e.next=5,Z.query({query:x.U2,variables:{assetKeys:A.map((function(e){return{path:e.assetKey.path}}))}});case 5:if(!(i=e.sent).data.assetNodeDefinitionCollisions.length){e.next=10;break}return(0,p._)((0,x.VF)(i.data)),w({type:"none"}),e.abrupt("return");case 10:return a=i.data.assetNodes,s=n.shiftKey,e.next=14,v(Z,a,s,t);case 14:if("error"!==(o=e.sent).type){e.next=19;break}return(0,p._)({title:"Unable to observe",body:o.error}),w({type:"none"}),e.abrupt("return");case 19:if("single-run"!==o.type){e.next=25;break}return e.next=22,g({executionParams:o.executionParams},"toast");case 22:w({type:"none"}),e.next=26;break;case 25:w(o);case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(l.zx,{intent:f,onClick:k,icon:"loading"===N.type?(0,y.jsx)(c.$,{purpose:"body-text"}):(0,y.jsx)(d.JO,{name:"observation"}),children:O})};function v(e,n,t,r){return j.apply(this,arguments)}function j(){return(j=(0,i.Z)((0,r.Z)().mark((function e(n,t,i,a){var s,o,l,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return!e.isSource}))){e.next=2;break}return e.abrupt("return",{type:"error",error:"One or more non-source assets are selected and cannot be observed."});case 2:if(!t.some((function(e){return!e.isObservable}))){e.next=4;break}return e.abrupt("return",{type:"error",error:"One or more of the selected source assets are unversioned and cannot be observed."});case 4:if(l=(0,h.kQ)((null===(s=t[0])||void 0===s?void 0:s.repository.name)||"",(null===(o=t[0])||void 0===o?void 0:o.repository.location.name)||""),d=(0,f.Uz)(l),t.every((function(e){return e.repository.name===l.name&&e.repository.location.name===l.location}))){e.next=8;break}return e.abrupt("return",{type:"error",error:"Assets must be in ".concat(d," to be materialized together.")});case 8:if(c=(0,x.ZP)(t,a)){e.next=11;break}return e.abrupt("return",{type:"error",error:"Assets must be in the same job to be observed together."});case 11:return e.abrupt("return",{type:"single-run",executionParams:(0,x.Ot)(l,c,t,[])});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},64869:function(e,n,t){t.d(n,{D:function(){return h},d:function(){return m}});var r,i=t(71171),a=t(31623),s=t(47515),o=t(32375),l=t(83473),d=(t(78193),t(97412)),c=t(9938),u=t(63167),p=t(35936),m=function(e){var n=e.assetNode,t=e.repoAddress,r=e.minimal,i=n.assetKey,a=n.graphName,m=n.opNames,h=n.jobNames,f=m.length;if(!f)return null;if(!a){var x=m[0];if((0,c.ll)(i)===x)return null;var y=(0,u.$U)(t,"/ops/".concat(x));return(0,p.jsxs)(s.x,{flex:{gap:4,alignItems:"center"},children:[(0,p.jsx)(o.JO,{name:"op",size:16}),(0,p.jsx)(l.fv,{children:(0,p.jsx)(d.rU,{to:y,children:x})})]})}return h.length?(0,p.jsxs)(s.x,{flex:{gap:4,alignItems:"center"},children:[(0,p.jsx)(o.JO,{name:"schema",size:16}),r?(0,p.jsx)(d.rU,{to:(0,u.$U)(t,"/graphs/".concat(h[0],"/").concat(a,"/")),children:"View graph"}):(0,p.jsxs)(l.fv,{children:[(0,p.jsx)(d.rU,{to:(0,u.$U)(t,"/graphs/".concat(h[0],"/").concat(a,"/")),children:a})," (".concat(1===f?"1 op":"".concat(f," ops"),")")]})]}):null},h=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment UnderlyingOpsAssetNodeFragment on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    graphName\n    opNames\n    jobNames\n  }\n"])))},95460:function(e,n,t){t.d(n,{G:function(){return a}});var r=t(60319),i=t(57103),a=r.ZP.div.withConfig({displayName:"Version",componentId:"sc-5deipg-0"})(["font-family:",";font-size:16px;overflow:hidden;text-overflow:ellipsis;"],i.b.monospace)},51294:function(e,n,t){t.d(n,{L:function(){return c}});var r=t(68079),i=t(276),a=t.n(i),s=t(78193),o="__NO_PARTITION__",l=function(e,n){return Number(null===n||void 0===n?void 0:n.timestamp)-Number(null===e||void 0===e?void 0:e.timestamp)},d=function(e,n){var t=a()(e,(function(e){return e.partition||o})),i=(0,r.Z)(n).reverse();return o in t&&i.push(o),i.filter((function(e){return e!==o})).map((function(e){var n=(0,r.Z)(t[e]||[]).sort(l),i=n.find((function(e){return"MaterializationEvent"===e.__typename}))||n[0]||null;return{all:n,latest:i,timestamp:null===i||void 0===i?void 0:i.timestamp,partition:e}}))};function c(e,n,t,i){return s.useMemo((function(){var a=[].concat((0,r.Z)(n),(0,r.Z)(t)).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)}));return"partition"===e&&i?d(a,i):a.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[i,n,t,e])}},44435:function(e,n,t){t.d(n,{T8:function(){return y},ZC:function(){return x},fE:function(){return f}});var r,i,a,s=t(71171),o=t(68079),l=t(90239),d=t(31623),c=t(23662),u=t.n(c),p=t(78193),m=t(84674),h=t(12478);function f(e,n,t){var r=t.assetHasDefinedPartitions,i=n.asOf?"".concat(Number(n.asOf)+1):void 0,a=r?"partition":"time",s=void 0!==n.partition?"partition":void 0!==n.time||i?"time":a,d=r&&"partition"===s,c=(0,l.a)(g,{variables:d?{assetKey:{path:e.path},before:i,partitionInLast:120}:{assetKey:{path:e.path},before:i,limit:100}}),m=c.data,h=c.loading,f=c.refetch;return p.useMemo((function(){var e,n="Asset"===(null===m||void 0===m?void 0:m.assetOrError.__typename)?null===m||void 0===m?void 0:m.assetOrError:null,t=(null===n||void 0===n?void 0:n.assetMaterializations)||[],r=(null===n||void 0===n?void 0:n.assetObservations)||[],i=null===n||void 0===n||null===(e=n.definition)||void 0===e?void 0:e.partitionKeys;return{asset:n,loadedPartitionKeys:d&&i?i.slice(i.length-120):u()([].concat((0,o.Z)(t),(0,o.Z)(r)).map((function(e){return e.partition})).filter(Boolean)).sort(),materializations:t,observations:r,loading:h,refetch:f,xAxis:s}}),[m,h,f,d,s])}var x=(0,d.Ps)(r||(r=(0,s.Z)(["\n  fragment AssetMaterializationFragment on MaterializationEvent {\n    partition\n    tags {\n      key\n      value\n    }\n    runOrError {\n      ... on PipelineRun {\n        id\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    assetLineage {\n      ...AssetLineageFragment\n    }\n  }\n\n  ","\n  ","\n"])),m.it,h.Q),y=(0,d.Ps)(i||(i=(0,s.Z)(["\n  fragment AssetObservationFragment on ObservationEvent {\n    partition\n    tags {\n      key\n      value\n    }\n    runOrError {\n      ... on PipelineRun {\n        id\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n  }\n\n  ","\n"])),m.it),g=(0,d.Ps)(a||(a=(0,s.Z)(["\n  query AssetEventsQuery(\n    $assetKey: AssetKeyInput!\n    $limit: Int\n    $before: String\n    $partitionInLast: Int\n  ) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetObservations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetObservationFragment\n        }\n        assetMaterializations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetMaterializationFragment\n        }\n\n        definition {\n          id\n          partitionKeys\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"])),y,x)},44907:function(e,n,t){t.d(n,{Q:function(){return s}});var r=t(67445),i=(t(78193),t(9610)),a=t(35936),s=function(e){var n=e.isGraph,t=e.repoAddress,s=e.result;return"PipelineSnapshotNotFoundError"===s.__typename?(0,a.jsx)(r.t,{icon:"error",title:n?"Graph snapshot not found":"Pipeline snapshot not found",description:s.message}):"PipelineNotFoundError"===s.__typename?(0,a.jsx)(r.t,{icon:"error",title:n?"Graph not found":"Pipeline not found",description:s.message}):"RepositoryNotFoundError"===s.__typename?(0,a.jsx)(r.t,{icon:"error",title:"".concat(t?(0,i.Uz)(t):"Definitions"," not found"),description:s.message}):"PythonError"===s.__typename?(0,a.jsx)(r.t,{icon:"error",title:"Query error",description:s.message}):(0,a.jsx)("span",{})}}}]);
//# sourceMappingURL=620.21b3d8e8.chunk.js.map