import{d as z,z as A,f as J,R as d,c as r,r as k,B as O,D as P,g as h,h as o,w as i,o as s,m as u,i as e,H as Q,k as F,J as j,x as b,K as E,S as g,L as K,j as f,M as w,N as M,V as W,P as X,Q as Y,T as G,U as I,W as Z,X as $,q as ee,Y as se}from"./index-0455dad7.js";import{u as te}from"./usePageTitle-4c8a5377.js";const oe={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},le={class:"flow-runs__list-controls--right"},de=z({__name:"FlowRuns",setup(ue){const C=A(),c=J(),_=d(c.flowRuns.getFlowRunsCount,[{}]),S=r(()=>_.executed),V=r(()=>_.response===0),m=k(),x=O(m,1200),{filter:t,isCustomFilter:N}=P({flowRuns:{nameLike:x}}),p={interval:3e4},R=d(c.flowRuns.getFlowRunsCount,[t],p),B=r(()=>R.response),T=d(c.ui.getFlowRunHistory,[t],p),H=r(()=>T.response??[]),v=d(c.flowRuns.getFlowRuns,[t],p),y=r(()=>v.response??[]),n=k([]);function L(){C.push(se.flowRuns())}const U=()=>{n.value=[],v.refresh(),R.refresh()};return te("Flow Runs"),(ae,l)=>{const D=h("p-button"),q=h("p-layout-default");return s(),o(q,{class:"flow-runs"},{header:i(()=>[u(e(Q))]),default:i(()=>[S.value?(s(),F(b,{key:0},[V.value?(s(),o(e(j),{key:0})):(s(),F(b,{key:1},[u(e(E)),e(g).md?(s(),o(e(K),{key:0,history:H.value,"start-date":e(t).flowRuns.expectedStartTimeAfter,"end-date":e(t).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),w("div",oe,[w("div",ne,[w("div",le,[n.value.length==0?(s(),o(e(M),{key:0,count:B.value,label:"Flow run"},null,8,["count"])):(s(),o(e(W),{key:1,count:n.value.length},null,8,["count"])),u(e(X),{selected:n.value,onDelete:U},null,8,["selected"])]),e(g).md?(s(),o(e(Y),{key:0,modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=a=>m.value=a),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),u(e(G),{modelValue:e(t).sort,"onUpdate:modelValue":l[1]||(l[1]=a=>e(t).sort=a)},null,8,["modelValue"])]),u(e(I),{selected:n.value,"onUpdate:selected":l[2]||(l[2]=a=>n.value=a),selectable:"","flow-runs":y.value},null,8,["selected","flow-runs"]),y.value.length?f("",!0):(s(),o(e(Z),{key:0},$({_:2},[e(N)?{name:"actions",fn:i(()=>[u(D,{size:"sm",secondary:"",onClick:L},{default:i(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{de as default};
