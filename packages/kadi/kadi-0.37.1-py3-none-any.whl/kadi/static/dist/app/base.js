!function(){var t={3155:function(t,e,i){var n=i(7537),s=i(3645)(n);s.push([t.id,"\n.notification[data-v-56dda82c] {\n  background-color: #009682;\n  border-radius: 50%;\n  display: inline-block;\n}\n#notification-item[data-v-56dda82c] {\n  height: 10px;\n  margin-left: 30px;\n  width: 10px;\n}\n#notification-toggle[data-v-56dda82c] {\n  border: 2px solid #2c3e50;\n  bottom: 7px;\n  height: 12px;\n  margin-right: -12px;\n  position: relative;\n  right: 10px;\n  width: 12px;\n}\n","",{version:3,sources:["webpack://./kadi/assets/scripts/components/lib/base/HelpItem.vue"],names:[],mappings:";AAoCA;EACA,yBAAA;EACA,kBAAA;EACA,qBAAA;AACA;AAEA;EACA,YAAA;EACA,iBAAA;EACA,WAAA;AACA;AAEA;EACA,yBAAA;EACA,WAAA;EACA,YAAA;EACA,mBAAA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;AACA",sourcesContent:['\x3c!-- Copyright 2023 Karlsruhe Institute of Technology\n   -\n   - Licensed under the Apache License, Version 2.0 (the "License");\n   - you may not use this file except in compliance with the License.\n   - You may obtain a copy of the License at\n   -\n   -     http://www.apache.org/licenses/LICENSE-2.0\n   -\n   - Unless required by applicable law or agreed to in writing, software\n   - distributed under the License is distributed on an "AS IS" BASIS,\n   - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   - See the License for the specific language governing permissions and\n   - limitations under the License. --\x3e\n\n<template>\n  <div>\n    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">\n      <i class="fa-regular fa-lg fa-circle-question"></i>\n      <span id="notification-toggle" class="notification" v-if="showNotification"></span>\n    </a>\n    <div class="dropdown-menu dropdown-menu-right mt-3">\n      <a class="dropdown-item" :href="helpUrl">\n        <i class="fa-regular fa-circle-question"></i> {{ $t(\'Help\') }}\n      </a>\n      <a class="dropdown-item" :href="aboutUrl">\n        <i class="fa-solid fa-circle-info"></i> {{ $t(\'About\') }}\n      </a>\n      <a class="dropdown-item" target="_blank" rel="noopener noreferrer" :href="newsUrl" @click="dismissNotification">\n        <i class="fa-solid fa-rocket"></i> {{ $t("What\'s new") }}\n        <span id="notification-item" class="notification" v-if="showNotification"></span>\n      </a>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.notification {\n  background-color: #009682;\n  border-radius: 50%;\n  display: inline-block;\n}\n\n#notification-item {\n  height: 10px;\n  margin-left: 30px;\n  width: 10px;\n}\n\n#notification-toggle {\n  border: 2px solid #2c3e50;\n  bottom: 7px;\n  height: 12px;\n  margin-right: -12px;\n  position: relative;\n  right: 10px;\n  width: 12px;\n}\n</style>\n\n<script>\nexport default {\n  data() {\n    return {\n      storageKey: \'hide_version_notification\',\n      showNotification: false,\n    };\n  },\n  props: {\n    helpUrl: String,\n    aboutUrl: String,\n    newsUrl: String,\n  },\n  methods: {\n    dismissNotification() {\n      // Store the current version in the local storage when dismissing the notification.\n      window.localStorage.setItem(this.storageKey, kadi.globals.version);\n      this.showNotification = false;\n    },\n  },\n  mounted() {\n    // Check if the version changed since the last time the notification was dismissed. If it did, show the notification\n    // again and delete the old version from the local storage, if applicable.\n    if (window.localStorage.getItem(this.storageKey) !== kadi.globals.version) {\n      window.localStorage.removeItem(this.storageKey);\n      this.showNotification = true;\n    }\n  },\n};\n<\/script>\n'],sourceRoot:""}]),t.exports=s},3392:function(t,e,i){var n=i(7537),s=i(3645)(n);s.push([t.id,"\n.notification-body {\n  overflow-wrap: break-word;\n}\n","",{version:3,sources:["webpack://./kadi/assets/scripts/components/lib/base/NotificationToast.vue"],names:[],mappings:";AAkCA;EACA,yBAAA;AACA",sourcesContent:['\x3c!-- Copyright 2020 Karlsruhe Institute of Technology\n   -\n   - Licensed under the Apache License, Version 2.0 (the "License");\n   - you may not use this file except in compliance with the License.\n   - You may obtain a copy of the License at\n   -\n   -     http://www.apache.org/licenses/LICENSE-2.0\n   -\n   - Unless required by applicable law or agreed to in writing, software\n   - distributed under the License is distributed on an "AS IS" BASIS,\n   - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   - See the License for the specific language governing permissions and\n   - limitations under the License. --\x3e\n\n<template>\n  <div class="toast mw-100" data-animation="false" data-autohide="false" data-delay="0" ref="toast">\n    <div class="toast-header bg-primary">\n      <span class="mr-auto">{{ title }}</span>\n      <button type="button" class="ml-2 close text-white" @click="dismiss">\n        <i class="fa-solid fa-xmark fa-xs"></i>\n      </button>\n    </div>\n    <div class="toast-body py-2">\n      <div class="notification-body" v-html="body"></div>\n      <div class="mt-1">\n        <small class="text-muted">\n          <from-now :timestamp="timestamp"></from-now>\n        </small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.notification-body {\n  overflow-wrap: break-word;\n}\n</style>\n\n<script>\nexport default {\n  props: {\n    title: String,\n    body: String,\n    timestamp: String,\n    dismissEndpoint: String,\n  },\n  methods: {\n    dismiss() {\n      axios.delete(this.dismissEndpoint)\n        .then(() => {\n          $(this.$refs.toast).toast(\'dispose\');\n          kadi.base.getNotifications();\n        })\n        .catch((error) => kadi.base.flashDanger($t(\'Error dismissing notification.\'), {request: error.request}));\n    },\n  },\n  mounted() {\n    $(this.$refs.toast).toast(\'show\');\n  },\n  beforeDestroy() {\n    $(this.$refs.toast).toast(\'dispose\');\n  },\n};\n<\/script>\n'],sourceRoot:""}]),t.exports=s},1283:function(t,e,i){var n=i(7537),s=i(3645)(n);s.push([t.id,".clear-btn[data-v-763e2e6e],.search-btn[data-v-763e2e6e]{background-color:#1a252f !important;transition:none}.custom-input[data-v-763e2e6e]{background-color:#1a252f;border:none;box-shadow:none;-webkit-appearance:none}.dropdown.active .custom-input[data-v-763e2e6e],.dropdown.active .clear-btn[data-v-763e2e6e],.dropdown.active .search-btn[data-v-763e2e6e]{background-color:#fff !important}.dropdown-item[data-v-763e2e6e]{white-space:normal;word-break:break-all}.dropdown-item[data-v-763e2e6e]:focus,.dropdown-item[data-v-763e2e6e]:hover{background-color:#ecf0f1}.font-identifier[data-v-763e2e6e]{font-size:90%}.font-timestamp[data-v-763e2e6e]{font-size:80%}.font-title[data-v-763e2e6e]{font-size:95%}.input-group-append-content[data-v-763e2e6e]{background-color:#fff;border:none;color:#aab7b8;padding-left:.75rem !important;padding-right:.75rem !important}.menu[data-v-763e2e6e]{padding-bottom:2px;padding-top:2px}.responsive-width[data-v-763e2e6e]{width:225px}@media(min-width: 1200px){.responsive-width[data-v-763e2e6e]{width:350px}}@media(max-width: 1200px){.type[data-v-763e2e6e]{display:none}}","",{version:3,sources:["webpack://./kadi/assets/scripts/components/lib/base/QuickSearch.vue"],names:[],mappings:"AACA,yDACE,mCAAA,CACA,eAAA,CAGF,+BACE,wBAAA,CACA,WAAA,CACA,eAAA,CACA,uBAAA,CAIA,2IACE,gCAAA,CAIJ,gCACE,kBAAA,CACA,oBAAA,CAEA,4EACE,wBAAA,CAIJ,kCACE,aAAA,CAGF,iCACE,aAAA,CAGF,6BACE,aAAA,CAGF,6CACE,qBAAA,CACA,WAAA,CACA,aAAA,CACA,8BAAA,CACA,+BAAA,CAGF,uBACE,kBAAA,CACA,eAAA,CAGF,mCACE,WAAA,CAEA,0BAHF,mCAII,WAAA,CAAA,CAKF,0BADF,uBAEI,YAAA,CAAA",sourcesContent:["\n.clear-btn, .search-btn {\n  background-color: #1a252f !important;\n  transition: none;\n}\n\n.custom-input {\n  background-color: #1a252f;\n  border: none;\n  box-shadow: none;\n  -webkit-appearance: none;\n}\n\n.dropdown.active {\n  .custom-input, .clear-btn, .search-btn {\n    background-color: white !important;\n  }\n}\n\n.dropdown-item {\n  white-space: normal;\n  word-break: break-all;\n\n  &:focus, &:hover {\n    background-color: #ecf0f1;\n  }\n}\n\n.font-identifier {\n  font-size: 90%;\n}\n\n.font-timestamp {\n  font-size: 80%;\n}\n\n.font-title {\n  font-size: 95%;\n}\n\n.input-group-append-content {\n  background-color: white;\n  border: none;\n  color: #aab7b8;\n  padding-left: 0.75rem !important;\n  padding-right: 0.75rem !important;\n}\n\n.menu {\n  padding-bottom: 2px;\n  padding-top: 2px;\n}\n\n.responsive-width {\n  width: 225px;\n\n  @media (min-width: 1200px) {\n    width: 350px;\n  }\n}\n\n.type {\n  @media (max-width: 1200px) {\n    display: none;\n  }\n}\n"],sourceRoot:""}]),t.exports=s},1934:function(t,e,i){var n=i(7537),s=i(3645)(n);s.push([t.id,".font-identifier[data-v-163b5bbd]{font-size:90%}.font-timestamp[data-v-163b5bbd]{font-size:80%}.font-title[data-v-163b5bbd]{font-size:95%}.items[data-v-163b5bbd]{padding:0 0 1px 0}@media(min-width: 1200px)and (max-width: 1500px){.type[data-v-163b5bbd]{display:none}}","",{version:3,sources:["webpack://./kadi/assets/scripts/components/lib/base/RecentlyVisited.vue"],names:[],mappings:"AACA,kCACE,aAAA,CAGF,iCACE,aAAA,CAGF,6BACE,aAAA,CAGF,wBACE,iBAAA,CAIA,iDADF,uBAEI,YAAA,CAAA",sourcesContent:["\n.font-identifier {\n  font-size: 90%;\n}\n\n.font-timestamp {\n  font-size: 80%;\n}\n\n.font-title {\n  font-size: 95%;\n}\n\n.items {\n  padding: 0 0 1px 0;\n}\n\n.type {\n  @media (min-width: 1200px) and (max-width: 1500px) {\n    display: none;\n  }\n}\n"],sourceRoot:""}]),t.exports=s},3645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,s,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var r=0;r<this.length;r++){var d=this[r][0];null!=d&&(o[d]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);n&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),e.push(c))}},e}},7537:function(t){"use strict";t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(s," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},5212:function(t,e,i){var n=i(3155);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,i(5346).Z)("2f3021ca",n,!1,{})},6872:function(t,e,i){var n=i(3392);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,i(5346).Z)("69774246",n,!1,{})},6793:function(t,e,i){var n=i(1283);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,i(5346).Z)("091793b4",n,!1,{})},6519:function(t,e,i){var n=i(1934);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,i(5346).Z)("5dde68b6",n,!1,{})},5346:function(t,e,i){"use strict";function n(t,e){for(var i=[],n={},s=0;s<e.length;s++){var a=e[s],o=a[0],r={id:t+":"+s,css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(r):i.push(n[o]={id:o,parts:[r]})}return i}i.d(e,{Z:function(){return f}});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=s&&(document.head||document.getElementsByTagName("head")[0]),r=null,d=0,l=!1,c=function(){},p=null,u="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,i,s){l=i,p=s||{};var o=n(t,e);return h(o),function(e){for(var i=[],s=0;s<o.length;s++){var r=o[s];(d=a[r.id]).refs--,i.push(d)}for(e?h(o=n(t,e)):o=[],s=0;s<i.length;s++){var d;if(0===(d=i[s]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete a[d.id]}}}}function h(t){for(var e=0;e<t.length;e++){var i=t[e],n=a[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(v(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var o=[];for(s=0;s<i.parts.length;s++)o.push(v(i.parts[s]));a[i.id]={id:i.id,refs:1,parts:o}}}}function g(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function v(t){var e,i,n=document.querySelector("style["+u+'~="'+t.id+'"]');if(n){if(l)return c;n.parentNode.removeChild(n)}if(m){var s=d++;n=r||(r=g()),e=b.bind(null,n,s,!1),i=b.bind(null,n,s,!0)}else n=g(),e=C.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}var A,w=(A=[],function(t,e){return A[t]=e,A.filter(Boolean).join("\n")});function b(t,e,i,n){var s=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=w(e,s);else{var a=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function C(t,e){var i=e.css,n=e.media,s=e.sourceMap;if(n&&t.setAttribute("media",n),p.ssrId&&t.setAttribute(u,e.id),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,i),a.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=function(){var t=this,e=t._self._c;return t.showBroadcastMsg?e("div",{staticClass:"card"},[e("div",{staticClass:"card-body pb-1"},[e("button",{staticClass:"close text-primary",attrs:{type:"button"},on:{click:t.dismissBroadcast}},[e("i",{staticClass:"fa-solid fa-xmark fa-xs"})]),t._v(" "),e("markdown-renderer",{attrs:{input:t.message}})],1)]):t._e()};function e(t,e,i,n,s,a,o,r){var d,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=d):s&&(d=r?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),d)if(l.functional){l._injectStyles=d;var c=l.render;l.render=function(t,e){return d.call(e),c(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,d):[d]}return{exports:t,options:l}}t._withStripped=!0;var n=e({data(){return{storageKey:"hide_broadcast_msg",showBroadcastMsg:!1}},props:{message:String,hash:String},methods:{dismissBroadcast(){window.localStorage.setItem(this.storageKey,this.hash),this.showBroadcastMsg=!1}},mounted(){""===this.message?window.localStorage.removeItem(this.storageKey):window.localStorage.getItem(this.storageKey)!==this.hash&&(window.localStorage.removeItem(this.storageKey),this.showBroadcastMsg=!0)}},t,[],!1,null,null,null).exports,s=function(){var t=this,e=t._self._c;return t.active?e("div",[e("div",{staticClass:"alert fade show",class:`alert-${t.type}`},[t.icon?e("i",{staticClass:"fa",class:`fa-${t.icon}`}):t._e(),t._v(" "+t._s(t.message)+"\n  ")])]):t._e()};s._withStripped=!0;var a=e({data(){return{icon:null,active:!0}},props:{message:String,type:{type:String,default:"info"},timeout:{type:Number,default:5e3}},mounted(){"info"===this.type?this.icon="circle-info":"danger"===this.type?this.icon="circle-xmark":"warning"===this.type?this.icon="triangle-exclamation":"success"===this.type&&(this.icon="circle-check"),null!==this.timeout&&window.setTimeout((()=>this.active=!1),this.timeout)}},s,[],!1,null,null,null).exports,o=function(){var t=this,e=t._self._c;return e("div",t._l(t.messages,(function(t){return e("div",{key:t.id},[e("flash-message",{staticClass:"mb-4",attrs:{message:t.message,type:t.type,timeout:t.timeout}})],1)})),0)};o._withStripped=!0;var r=e({components:{FlashMessage:a},data(){return{messages:[]}},methods:{addMessage(t,e,i){let n=e;const s={request:null,timeout:5e3,scrollTo:!0,...i};if(null!==s.request){if(0===s.request.status)return;n=`${e} (${s.request.status})`}this.messages.push({id:kadi.utils.randomAlnum(),message:n,type:t,timeout:s.timeout}),s.scrollTo&&kadi.utils.scrollIntoView(this.$el,"bottom")},flashDanger(t,e){this.addMessage("danger",t,e)},flashInfo(t,e){this.addMessage("info",t,e)},flashSuccess(t,e){this.addMessage("success",t,e)},flashWarning(t,e){this.addMessage("warning",t,e)}}},o,[],!1,null,null,null).exports,d=function(){var t=this,e=t._self._c;return e("div",[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[e("i",{staticClass:"fa-regular fa-lg fa-circle-question"}),t._v(" "),t.showNotification?e("span",{staticClass:"notification",attrs:{id:"notification-toggle"}}):t._e()]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right mt-3"},[e("a",{staticClass:"dropdown-item",attrs:{href:t.helpUrl}},[e("i",{staticClass:"fa-regular fa-circle-question"}),t._v(" "+t._s(t.$t("Help"))+"\n    ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:t.aboutUrl}},[e("i",{staticClass:"fa-solid fa-circle-info"}),t._v(" "+t._s(t.$t("About"))+"\n    ")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{target:"_blank",rel:"noopener noreferrer",href:t.newsUrl},on:{click:t.dismissNotification}},[e("i",{staticClass:"fa-solid fa-rocket"}),t._v(" "+t._s(t.$t("What's new"))+"\n      "),t.showNotification?e("span",{staticClass:"notification",attrs:{id:"notification-item"}}):t._e()])])])};d._withStripped=!0;var l={data(){return{storageKey:"hide_version_notification",showNotification:!1}},props:{helpUrl:String,aboutUrl:String,newsUrl:String},methods:{dismissNotification(){window.localStorage.setItem(this.storageKey,kadi.globals.version),this.showNotification=!1}},mounted(){window.localStorage.getItem(this.storageKey)!==kadi.globals.version&&(window.localStorage.removeItem(this.storageKey),this.showNotification=!0)}},c=(i(5212),e(l,d,[],!1,null,"56dda82c",null).exports),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropup float-lg-right"},[e("a",{staticClass:"text-white dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[e("i",{staticClass:"fa-solid fa-globe"}),t._v(" "+t._s(t.$t("Language"))+"\n  ")]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right mb-3"},[e("strong",{staticClass:"dropdown-header"},[t._v(t._s(t.$t("Select a language")))]),t._v(" "),t._l(t.locales,(function(i,n){return e("button",{key:n,staticClass:"dropdown-item",on:{click:function(e){return t.switchLocale(n)}}},[t._v("\n      "+t._s(i)+"\n      "),n===t.kadi.globals.locale?e("span",{staticClass:"float-right"},[e("i",{staticClass:"fa-solid fa-check fa-sm"})]):t._e()])}))],2)])};p._withStripped=!0;var u=e({props:{param:String,locales:Object},methods:{switchLocale(t){const e=kadi.utils.setSearchParam(this.param,t);window.location.href=e}}},p,[],!1,null,null,null).exports,m=function(){var t=this,e=t._self._c;return e("div",t._l(t.notifications,(function(t){return e("div",{key:t.id},[e("notification-toast",{staticClass:"mb-4",attrs:{title:t.data.title,body:t.data.body,timestamp:t.created_at,"dismiss-endpoint":t._actions.dismiss}})],1)})),0)};m._withStripped=!0;var f=function(){var t=this,e=t._self._c;return e("div",{ref:"toast",staticClass:"toast mw-100",attrs:{"data-animation":"false","data-autohide":"false","data-delay":"0"}},[e("div",{staticClass:"toast-header bg-primary"},[e("span",{staticClass:"mr-auto"},[t._v(t._s(t.title))]),t._v(" "),e("button",{staticClass:"ml-2 close text-white",attrs:{type:"button"},on:{click:t.dismiss}},[e("i",{staticClass:"fa-solid fa-xmark fa-xs"})])]),t._v(" "),e("div",{staticClass:"toast-body py-2"},[e("div",{staticClass:"notification-body",domProps:{innerHTML:t._s(t.body)}}),t._v(" "),e("div",{staticClass:"mt-1"},[e("small",{staticClass:"text-muted"},[e("from-now",{attrs:{timestamp:t.timestamp}})],1)])])])};f._withStripped=!0;var h={props:{title:String,body:String,timestamp:String,dismissEndpoint:String},methods:{dismiss(){axios.delete(this.dismissEndpoint).then((()=>{$(this.$refs.toast).toast("dispose"),kadi.base.getNotifications()})).catch((t=>kadi.base.flashDanger($t("Error dismissing notification."),{request:t.request})))}},mounted(){$(this.$refs.toast).toast("show")},beforeDestroy(){$(this.$refs.toast).toast("dispose")}},g=(i(6872),e(h,f,[],!1,null,null,null)),v=e({components:{NotificationToast:g.exports},data(){return{notifications:[],title:null,lastNotificationDate:null,currentTimeout:null,baseTimeout:5e3,maxTimeout:1e4,pollTimeoutHandle:null}},props:{endpoint:String},methods:{resetTimeout(){this.currentTimeout=this.baseTimeout},getNotifications(t=!1,e=!0){this.lastNotificationDate=new Date,e&&this.resetTimeout(),axios.get(this.endpoint).then((e=>{this.notifications=e.data;const i=this.notifications.length;t&&i>0&&this.$nextTick((()=>kadi.utils.scrollIntoView(this.$el,"bottom"))),document.title=i>0?`(${i}) ${this.title}`:this.title}))},beforeUnload(){window.clearTimeout(this.pollTimeoutHandle)}},mounted(){this.title=document.title,this.resetTimeout();const t=()=>{this.pollTimeoutHandle=window.setTimeout(t,this.currentTimeout),this.currentTimeout<this.maxTimeout&&(this.currentTimeout+=1e3),(null===this.lastNotificationDate||new Date-this.lastNotificationDate>=this.baseTimeout)&&this.getNotifications(!1,!1)};window.addEventListener("blur",(()=>{window.clearTimeout(this.pollTimeoutHandle)})),window.addEventListener("focus",(()=>{window.clearTimeout(this.pollTimeoutHandle),this.resetTimeout(),t()})),document.hasFocus()&&t(),window.addEventListener("beforeunload",this.beforeUnload)},beforeDestroy(){window.removeEventListener("beforeunload",this.beforeUnload)}},m,[],!1,null,null,null).exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown",class:{active:t.dropdownActive},attrs:{id:`dropdown-${t.id}`}},[e("div",{staticClass:"input-group input-group-sm responsive-width",on:{click:t.showDropdown}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"form-control custom-input",attrs:{placeholder:t.$t("Quick search")},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),t.query?e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-sm clear-btn input-group-append-content",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.clearQuery.apply(null,arguments)}}},[e("i",{staticClass:"fa-solid fa-xmark"})])]):e("div",{staticClass:"input-group-append"},[t._m(0)])]),t._v(" "),e("div",{staticClass:"dropdown-menu mt-2 menu responsive-width",class:{"d-block":t.dropdownActive}},[t.initialized?e("div",[0===t.items.length?e("div",{staticClass:"px-2 my-1"},[e("strong",{staticClass:"font-identifier text-muted"},[t._v(t._s(t.$t("No results.")))])]):t._l(t.items,(function(i,n){return e("div",{key:i._links.view},[e("a",{staticClass:"dropdown-item text-default p-2",attrs:{href:i._links.view}},[e("div",{staticClass:"d-flex justify-content-between"},[e("strong",{staticClass:"font-title"},[t._v(t._s(t._f("truncate")(i.title,50)))]),t._v(" "),e("div",{staticClass:"type"},[e("span",{staticClass:"badge badge-light border border-muted font-weight-normal ml-3"},[t._v("\n                "+t._s(i.pretty_type)+"\n              ")])])]),t._v(" "),e("span",{staticClass:"font-identifier"},[t._v("@"+t._s(i.identifier))]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"text-muted font-timestamp"},[t._v("\n            "+t._s(t.$t("Last modified"))+" "),e("from-now",{attrs:{timestamp:i.last_modified}})],1)]),t._v(" "),n<t.items.length-1?e("div",{staticClass:"dropdown-divider m-0"}):t._e()])}))],2):t._e(),t._v(" "),t.initialized?t._e():e("i",{staticClass:"fa-solid fa-circle-notch fa-spin p-2"})])])};A._withStripped=!0;var w={data(){return{id:kadi.utils.randomAlnum(),query:"",items:[],dropdownActive:!1,initialized:!1,searchTimeoutHandle:null}},props:{endpoint:String},watch:{query(){this.search()}},methods:{search(){window.clearTimeout(this.searchTimeoutHandle),this.searchTimeoutHandle=window.setTimeout((()=>{axios.get(`${this.endpoint}?query=${this.query}`).then((t=>{this.items=t.data,this.initialized=!0}))}),500)},showDropdown(){this.dropdownActive||(this.dropdownActive=!0,this.initialized||this.search())},clearQuery(){this.query="",this.dropdownActive=!0,this.$refs.input.focus()},outsideClickHandler(t){null===t.target.closest(`#dropdown-${this.id}`)&&(this.dropdownActive=!1)}},mounted(){window.addEventListener("click",this.outsideClickHandler)},beforeDestroy(){window.removeEventListener("click",this.outsideClickHandler)}},b=(i(6793),e(w,A,[function(){var t=this._self._c;return t("span",{staticClass:"input-group-text search-btn input-group-append-content"},[t("i",{staticClass:"fa-solid fa-magnifying-glass fa-sm"})])}],!1,null,"763e2e6e",null).exports),C=function(){var t=this,e=t._self._c;return t.kadi.globals.user_active?e("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length > 0"}],staticClass:"card"},[e("div",{staticClass:"card-header border-bottom-0 py-1"},[e("collapse-item",{staticClass:"text-default stretched-link",attrs:{id:t.id,"is-collapsed":t.collapsed},on:{collapse:function(e){t.collapsed=e}}},[e("strong",[t._v(t._s(t.$t("Recently visited")))])])],1),t._v(" "),e("div",{staticClass:"card-body items",attrs:{id:t.id}},[e("div",{staticClass:"list-group list-group-flush"},t._l(t.items,(function(i){return e("div",{key:i.id,staticClass:"list-group-item list-group-item-action"},[e("a",{staticClass:"text-default stretched-link wb-break-all",attrs:{href:i.endpoint}},[e("div",{staticClass:"d-flex justify-content-between"},[e("strong",{staticClass:"font-title"},[t._v(t._s(t._f("truncate")(i.title,50)))]),t._v(" "),e("div",{staticClass:"type"},[e("span",{staticClass:"badge badge-light border border-muted font-weight-normal ml-3"},[t._v("\n                "+t._s(t.itemTypes[i.type]||i.type)+"\n              ")])])]),t._v(" "),e("span",{staticClass:"font-identifier"},[t._v("@"+t._s(i.identifier))]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"text-muted font-timestamp"},[t._v("\n            "+t._s(t.$t("Last visited"))+" "),e("from-now",{attrs:{timestamp:i.timestamp}})],1)])])})),0)])]):t._e()};C._withStripped=!0;var y={data(){return{items:[],itemsStorageKey:"recently_visited_items",collapseStorageKey:"recently_visited_collapse",id:kadi.utils.randomAlnum(),collapsed:null,initialized:!1,itemTypes:{record:$t("Record"),collection:$t("Collection"),template:$t("Template"),group:$t("Group")}}},props:{maxItems:{type:Number,default:5}},watch:{collapsed(){this.collapsed?window.localStorage.setItem(this.collapseStorageKey,"true"):window.localStorage.removeItem(this.collapseStorageKey)}},methods:{addItem(t,e,i,n,s=null){const a={id:kadi.utils.randomAlnum(),timestamp:s||(new Date).toISOString(),type:t,title:e,identifier:i,endpoint:n},o=this.items.findIndex((t=>t.endpoint===n));-1!==o&&this.items.splice(o,1),this.initialized?this.items.unshift(a):this.items.push(a),this.items=this.items.slice(0,this.maxItems),this.initialized&&this.persistItems()},persistItems(){const t=[];for(const e of this.items){const i={...e};delete i.id,t.push(i)}window.localStorage.setItem(this.itemsStorageKey,JSON.stringify(t))},clearItems(){window.localStorage.removeItem(this.itemsStorageKey)}},created(){kadi.globals.user_active&&(window.localStorage.getItem(this.collapseStorageKey)?this.collapsed=!0:this.collapsed=!1)},mounted(){if(kadi.globals.user_active){try{const t=JSON.parse(window.localStorage.getItem(this.itemsStorageKey));for(const e of t)this.addItem(e.type,e.title,e.identifier,e.endpoint,e.timestamp)}catch{this.clearItems()}this.initialized=!0}else this.clearItems()}},_=(i(6519),e(y,C,[],!1,null,"163b5bbd",null).exports);document.querySelectorAll(".kadi-logo").forEach((t=>{t.addEventListener("animationiteration",(()=>t.style.animation="none")),t.addEventListener("webkitAnimationIteration",(()=>t.style.animation="none"))})),window.addEventListener("invalid",(t=>kadi.utils.scrollIntoView(t.target)),!0),kadi.base={newVue(t){return new Vue({el:"#base-content",...t})}},new Vue({el:"#base-locale-chooser",components:{LocaleChooser:u}});const x=new Vue({el:"#base-flash-messages",components:{FlashMessage:a,FlashMessages:r}}).$refs.component;Object.assign(kadi.base,{flashDanger:x.flashDanger,flashInfo:x.flashInfo,flashSuccess:x.flashSuccess,flashWarning:x.flashWarning});const k=new Vue({el:"#base-recently-visited",components:{RecentlyVisited:_}}).$refs.component;if(kadi.base.visitItem=k.addItem,kadi.globals.user_active){const t={H:"",R:"records",C:"collections",T:"templates",U:"users",G:"groups"};window.addEventListener("keydown",(e=>{if(!["INPUT","SELECT","TEXTAREA"].includes(e.target.tagName)&&"true"!==e.target.contentEditable&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey)for(const[i,n]of Object.entries(t))if(e.key===i)return e.preventDefault(),void(window.location.href=`/${n}`)})),new Vue({el:"#base-quick-search",components:{QuickSearch:b}}),new Vue({el:"#base-help-item",components:{HelpItem:c}}),new Vue({el:"#base-broadcast-message",components:{BroadcastMessage:n}});const e=new Vue({el:"#base-notification-manager",components:{NotificationManager:v}}).$refs.component;kadi.base.getNotifications=e.getNotifications}}()}();
//# sourceMappingURL=base.js.map