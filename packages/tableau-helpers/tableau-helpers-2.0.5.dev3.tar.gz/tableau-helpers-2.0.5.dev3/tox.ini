[tox]
min_version = 4.5
envlist = py39-{lin,win}

[testenv]
platform = 
    lin: linux
    win: win32

extras = 
    win: sys-certs
deps =
    pytest
    vcrpy == 4.1.1
passenv = SSH_AUTH_SOCK,http_proxy,https_proxy,no_proxy
commands = pytest.exe

[testenv:lint]
skip_install = False
commands = 
    isort .
    black --preview .
    flake8 .
    pylint tableau_helpers
    mypy --install-types --non-interactive --ignore-missing-imports .
usedevelop = True
deps = 
    black == 22.3
    isort == 5.10
    flake8 == 4.0
    mypy == 0.942
    pylint == 2.17.4
