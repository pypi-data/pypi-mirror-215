# (C) Quantum Computing Inc., 2022.

# THIS IS UNPUBLISHED PROPRIETARY SOURCE CODE of the Copyright Holder.
# The contents of this file may not be disclosed to third parties, copied
# or duplicated in any form, in whole or in part, without the prior written
# permission of the Copyright Holder.

[build-system]
requires = ["setuptools", "setuptools-scm"]
build-backend = "setuptools.build_meta"

[project]
name = 'qci-client'
description = "Client Package for using Qatalyst Optimization Suite"
readme = "README.md"
requires-python = ">=3.8, <=3.11"
keywords = []
license = {text = "Apache 2.0"}
authors = [
    {name = "Quantum Computing Inc."},
    {email = "support@quantumcomputinginc.com"},
]

classifiers = []
dependencies = [
    "requests >=2.22.1, <3",
    "requests-futures >=1.0.0, <2",
    "networkx >=2.6.3, <3",
    "numpy >=1.21.1, <2",
    "scipy >=1.7.3, <2; python_version <'3.11'",
    "scipy >=1.9.2, <2; python_version ~='3.11'"  # Wheel files on pypi.org have higher lower limit for Python 3.11.
]

dynamic = [
    "version"
]

[project.optional-dependencies]
dev = [
    # Try to match black version in megalinter that runs in CI:
    # https://github.com/oxsecurity/megalinter/blob/main/docs/descriptors/python_black.md#black-documentation
    "black ==23.1.0",
    "build >=0.10.0, <0.11",
    "check-manifest >=0.48, <0.49",
    "coverage[toml] >=6.4.2, <7",
    # Try to match pylint version in megalinter that runs in CI:
    # https://github.com/oxsecurity/megalinter/blob/main/docs/descriptors/python_pylint.md#pylint-documentation
    "pylint ==2.16.2",
    "pytest >=7.2.1, <8",
    "twine >=3.7.1, <4"
]

[tool.setuptools.packages.find]
include = ["qci_client"]

[tool.setuptools_scm]

[tool.pytest.ini_options]
addopts = "--strict-markers"
markers = [
	'offline: tests not requiring backend connection (deselect with `-m "not offline"`)',
    'timing: tests that time a process (deselect with `-m "not timing"`)',
]

[tool.coverage.report]
# FUTURE Get 100% coverage.
# fail_under = 100

[tool.pylint]
max-line-length = 88
recursive = true
ignore = ["build"]
disable = [
    "duplicate-code",
    "fixme",
    "line-too-long",
]
