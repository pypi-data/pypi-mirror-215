window.dash_marvinjs=function(A){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return A[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=A,r.c=t,r.d=function(A,t,e){r.o(A,t)||Object.defineProperty(A,t,{enumerable:!0,get:e})},r.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},r.t=function(A,t){if(1&t&&(A=r(A)),8&t)return A;if(4&t&&"object"==typeof A&&A&&A.__esModule)return A;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:A}),2&t&&"string"!=typeof A)for(var i in A)r.d(e,i,function(t){return A[t]}.bind(null,i));return e},r.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return r.d(t,"a",t),t},r.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},r.p="",r(r.s=2)}([function(A,t){A.exports=window.PropTypes},function(A,t){A.exports=window.React},function(A,t,r){"use strict";r.r(t);var e=r(1),i=r.n(e),n=r(0),s=r.n(n);class a extends e.Component{componentDidUpdate(A){if(void 0!==this.marvin_sketcher&&void 0!==this.props.output&&null!==this.props.output){const t=this.validate_structure(this.props.output);if(null===t)this.marvin_sketcher.isEmpty()||this.marvin_sketcher.clear();else if(void 0===A.output||null===A.output)this.marvin_sketcher.importAsMrv(this.props.output.structure),this.marvin_sketcher.setSelection(this.validate_selection(this.props.output));else if(t!==this.validate_structure(A.output))this.marvin_sketcher.importAsMrv(this.props.output.structure),this.marvin_sketcher.setSelection(this.validate_selection(this.props.output));else{const t=this.validate_selection(this.props.output);t!==this.validate_selection(A.output)&&this.marvin_sketcher.setSelection(t)}}}validate_structure(A){return void 0===A.structure?null:A.structure}validate_selection(A){let t,r;return t=void 0!==A.atoms&&null!==A.atoms?A.atoms:"",r=void 0!==A.bonds&&null!==A.bonds?A.bonds:"",{atoms:t,bonds:r}}async send_download(){const A=await this.marvin_sketcher.exportStructure("mrv"),{atoms:t,bonds:r}=this.marvin_sketcher.getSelection();this.props.setProps({input:{structure:A,atoms:t,bonds:r}})}marvin_onready(){const{url:A,is_dynamic:t}=this.props.marvin_license;if(this.marvin_window.Sketch.license(A,t),this.marvin_sketcher=this.marvin_window.sketcherInstance,this.marvin_sketcher.addButton(this.props.marvin_button,this.send_download.bind(this)),this.marvin_sketcher.setServices(this.props.marvin_services),void 0!==this.props.output&&null!==this.props.output){const A=this.validate_structure(this.props.output);null!==A&&(this.marvin_sketcher.importAsMrv(A),this.marvin_sketcher.setSelection(this.validate_selection(this.props.output)))}}marvin_onload(A){this.marvin_window=A.target.contentWindow.marvin,this.marvin_window.onReady(this.marvin_onready.bind(this))}render(){const{id:A,marvin_url:t,marvin_width:r,marvin_height:e,marvin_templateurl:n,marvin_abbrevsurl:s}=this.props;return i.a.createElement("div",{id:A},i.a.createElement("iframe",{id:"marvinjs_sketch",src:t,width:r,height:e,"data-toolbars":"reaction","data-templateurl":n,"data-abbrevsurl":s,onLoad:this.marvin_onload.bind(this)}))}}a.defaultProps={marvin_width:"900",marvin_height:"450",marvin_button:{name:"Upload","image-url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAArlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABeyFOlAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACcUAAAnFAYeExPQAAAAHdElNRQfjCQwVADLJ+C5eAAABUklEQVR42u3ZQWrDMBCF4TlMIFun2JD//hdLodBFLamWrMlL2jc7WWbmi2LkEY44FRsQulj4ClV9vkNdXyMArQC0AtAKQCsArQC0AtAKQCsArQC0AtAKQCsArQC0AtAKQCsArWBfojpIESz7AvVRhqCQvjGcD9gK2Vvj6YJS7uaFXECtLX8WoH4uSHwIColpX1vTj2HFX5u3Eezzlpc7cTP+ua61/zth/V/zcGqAAQZkAY63ea25bbRZ7Ok06zMfzSzXevlLV69bnViGW2bmAH5Ncxvv/I8AtuFTwyTAgTT3KUfvEwDeFrDOeQjHASEGHN2IkgBrx1Z8GpDxMjLAAAMMMMAAAwwwwAADDDDAAAMMMODvAaLzO3EmIDSAGLt7IqDvO3EKoCcMMMAAAwwwwAADDDDAgPcCZIcBBrwmIP4RoLJTXNWAUNePuInrf8b92eUfelqXBAH/Tb4AAAAASUVORK5CYII=",toolbar:"N"},marvin_services:{molconvertws:"/importer"},marvin_license:{url:"/license.cxl",is_dynamic:!1},marvin_templateurl:null,marvin_abbrevsurl:null},a.propTypes={id:s.a.string,marvin_url:s.a.string.isRequired,marvin_width:s.a.string,marvin_height:s.a.string,marvin_button:s.a.shape({name:s.a.string,"image-url":s.a.string,toolbar:s.a.string}),marvin_services:s.a.shape({molconvertws:s.a.string}),marvin_license:s.a.shape({url:s.a.string,is_dynamic:s.a.bool}),marvin_templateurl:s.a.string,marvin_abbrevsurl:s.a.string,output:s.a.shape({structure:s.a.string,atoms:s.a.string,bonds:s.a.string}),input:s.a.shape({structure:s.a.string,atoms:s.a.string,bonds:s.a.string}),setProps:s.a.func},r.d(t,"DashMarvinJS",(function(){return a}))}]);
//# sourceMappingURL=dash_marvinjs.min.js.map